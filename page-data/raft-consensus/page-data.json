{"componentChunkName":"component---src-templates-post-js","path":"/raft-consensus/","result":{"data":{"contentfulPost":{"title":"Raft consensus algorithm","slug":"raft-consensus","metaDescription":null,"publishDate":"September 01, 2018","publishDateISO":"2018-09-01","tags":[{"title":"DataEngineering","id":"25d7d0d6-3cf7-5e19-a5cb-9c3fa926046f","slug":"dataengineering"}],"heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":2,"html":"<p>Consensus란 분산 시스템에서 노드 간의 상태를 공유하는 알고리즘을 말합니다.\n가장 유명한 알고리즘으로 Paxos가 있고, Zookeeper에서 사용하는 Zab이 있습니다.\nRaft는 이해하기 어려운 기존의 알고리즘과 달리 쉽게 이해하고 구현하기 위해 설계되었습니다.\n(PS. 이 글은 블록체인에서의 Consensus 알고리즘을 말하는 것이 아닙니다)</p>\n<br>\n<h2 id=\"what-is-consensus-problem\" style=\"position:relative;\"><a href=\"#what-is-consensus-problem\" aria-label=\"what is consensus problem permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is consensus problem</h2>\n<p>하나의 클라이언트와 서버가 있고 클라이언트가 서버에게 데이터를 전달한다고 가정해보겠습니다.\n서버는 하나의 노드로 이루어져있기 때문에 합의가 이루어지는건 아주 쉬운 문제입니다.\n(여기에서 말하는 합의는 공유된 상태라고 이해하시면 됩니다)</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-con1\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/6BBYzQoA7P1pD2v5vifjDA/feea5cc2b82e09a626440e4ef5850866/con1.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/6BBYzQoA7P1pD2v5vifjDA/feea5cc2b82e09a626440e4ef5850866/con1.png?w=340 340w,\nhttps://images.ctfassets.net/tushy4jlcik7/6BBYzQoA7P1pD2v5vifjDA/feea5cc2b82e09a626440e4ef5850866/con1.png?w=680 680w,\nhttps://images.ctfassets.net/tushy4jlcik7/6BBYzQoA7P1pD2v5vifjDA/feea5cc2b82e09a626440e4ef5850866/con1.png?w=1360 1360w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>만일 위 그림처럼 여러 노드로 이루어진 분산 서버에서 합의를 이루어내야한다면 어떻게 해야할까요?\n이러한 문제를 <strong>distributed consensus problem</strong> 이라고 합니다.</p>\n<br>\n<h2 id=\"raft-algorithm\" style=\"position:relative;\"><a href=\"#raft-algorithm\" aria-label=\"raft algorithm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Raft Algorithm</h2>\n<p>Raft의 node는 <strong>Follower, Candidate, Leader</strong>라는 3가지 state를 가집니다.\n모든 노드는 처음에 Follower state를 가지고 시작합니다.\n만일 Follower가 Leader의 응답을 받지 못하면 Candidate 상태로 전환될 수 있습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 45.13274336283185%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAASCAMAAAAewWyUAAAC5VBMVEX////6/Pzu8vP9/fz19fT89/b249///f35+frW2N319fX+uqf6gkz/zsL29vanscpwhLCpsMT+/v37/Pz29PP6pYv5cyD5uqr2+Pn9/f3+/v7n5+h6i7NthbmQnLnz8/L///7u7+/t7/Dx4d71zsXx5+bu7/Dv7+/4+Pj49/jw8PDu7u3Fx8+kq7/R0tbw7+/5+fn8///19vfu7u7u8PHq7+/c6OXu7u/3+fr+///z9fTW5N7t7u3x8PDv7+76+vn09PX18/P+1Mrorp7i3Nvv8PDx8fHy8fLp7evC39Tu8PDy5eL3u6zmwbns7e339vbv7/DU2ee4vtHP2dfM4dnf6OS70c7Eyt7Jzdj6+vr19/f04Nz6gk33chzsxr3u8fLz8/P9/v77+/vu8fH3vq/5chvwfk3i2dj5+/v29vXFydF2jb9zi7+3vcvy8fD8/Pzy8vLq7OqYqL90jMB9kb7X19r7+/r/+ff9r5j5noDy4d3z8vLv0srwjmH+v6///v3m5+uJmb+Ak77KzNTw7+65vcx7kL6ZpcT8+fjv6unv8PHc5+PU5N7k6+nY4Nnp6uzZ2t3z8vPf7ujr7ezr6+rY2d3w8fL8/f3l6+nV5d///v/x8vLx8fDl8ezo7Ory8fHj8evn7evr9fHJ39fv7u/19vbt7+/w8fH39/fw8O/p7erj6+f6+frn8O3i6+f7+vrg6eXk6+jh6eX9///y7ezo0czn4uHn6OzLztXo6Ojw7/HD0dPD1s/s6+66ycva4+D9wLD3dzbvsJzX5uDt7u7p6uujr81uhbeutMbEzOF9ksKfqMPq6unn6+rr7O2qs81xhrWyt8X/uab5dCb0r5jP49zs7u3e3uF7jbZheq2lrcG1v9tth72Rn8Ho6Ofg6OXT5N3i5OaCkLRheaqjqr/2+Pjv5OL/3tb/9vXW2N64vMnV1dfY2t+4v9Dg4ub//v76+fn9/PzP0tivtMPT09b1+Pj19PTfoLqlAAABuElEQVQYGWXBT0iTcQDH4e9nve+Q9u7dPxhuzRIkwS5Sp6hDDSK7eSu6RHUIiqCbt2JDCnRRB6HEMA+RSB27BZEdQiLCQUUegla2SYZhluJwsH7v+zqxeh5tIaT/7LDUglpsqOsfbbCmgKWWMNT1Nxdo+yEfCqTwLWibLL6KPMjnpgjMaUsPvo1wWQYy9oOE0ZCNZuQ7BN/TNBcdOS8koaN4Pu4F5sJdGE/X+/F8Sunznq92N1DNWcriqb5r9pF5nsE4O5rF8+3tyX2PTrzJAR2ENJkz3udq7JqIptVujOpu2phdWngcqUXXU8br4ZA0FI/HTx1Xc1VqLCUSQ0VJBdedWlS2mT7XdXkyFotNKyQpNj4ejY7JMz8WPSBPyWk4qjE7EYnYI8OXpJCkQcu5Hb7Asgzn5Yx8t5zfOd3Iy7bdq3lJyHjIs2PFwv0vtXu/RijLt7NjEE9pAK6VJWQ8AX7elAZc6FMgOQXFFcktQF4S8kxjVEp3gIPa9Ao482B+N9AryZIniXFlIwl0VhRIAkqmMDorkiWjCrSf704f/gB1BY4kgOsJBKxo0+lVtfRnFFi+qJa1jKQ/t7Bu7a1CbEAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-election\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/6KdskE02jZvwEPZbX0i9Uf/07a3547b540183a976b07860977c7cd2/election.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/6KdskE02jZvwEPZbX0i9Uf/07a3547b540183a976b07860977c7cd2/election.png?w=452 452w,\nhttps://images.ctfassets.net/tushy4jlcik7/6KdskE02jZvwEPZbX0i9Uf/07a3547b540183a976b07860977c7cd2/election.png?w=904 904w,\nhttps://images.ctfassets.net/tushy4jlcik7/6KdskE02jZvwEPZbX0i9Uf/07a3547b540183a976b07860977c7cd2/election.png?w=1808 1808w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Candidate는 다른 노드들에게 투표를 요청하고 노드들은 투표 결과를 응답으로 전달합니다.\n노드 중 가장 많은 표를 얻은 노드는 Leader가 될 수 있습니다.\n이러한 프로세스를 <strong>Leader Election</strong> 이라고 부릅니다.</p>\n<br>\n<h2 id=\"leader-election\" style=\"position:relative;\"><a href=\"#leader-election\" aria-label=\"leader election permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Leader Election</h2>\n<p>Raft는 투표를 관리하기 위해 두 가지 timeout 설정을 가지고 있습니다.\n첫 번째는 <strong>Election timeout</strong> 입니다.\nElection timeout 이란, Follower에서 Candidate로 전환되기 위해 기다리는 시간을 의미합니다.\n일반적으로 Election timeout은 150ms에서 300ms 사이의 값으로 랜덤하게 설정됩니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 45.60085836909871%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAASCAMAAAAewWyUAAABHVBMVEX////9/f3+/v709PTz8/P49/j8+/vs7Ozw8PD39/f///7z8/Ly8vL7+vr7+/vx8PD19PT49/f6+vrc4+yetM/r7/Th5u7Azd3x8/azw9gAYqfE0OCGpMYAWKS8ytz3+Prf5e34+fvK1eOLp8fk6fD6+/n+//78/Pz//v69y92juNH2+Pro6+57mbujtMnFztq8x9X3+Pnu8fa4x9ri5++RrMoRda/O1d4AYKVLgK/y8/Ts7vEyeKwAb6rU2uH3+ff8/fu1xdkAU6KMqMj3+fvn7PL5+frDzdnX3OT7/Pytu86YrMXy8/Xl6vGVr8zT3Of7+vn7+/r6+fj+/f38/Pv9/Pz9/fzx8fHq6ur19fX39vb5+fnu7e329vbv7+/wwuVjAAAA2UlEQVQYGb3B11LCQABA0bubSAjGKNh7A4K994K99wYY4/9/hrNsXtjMMHnyHNoRUpJg2R2SVhkn62LKdXpdgha+3d2TLwgMvX39mAYGh0gYHhnFNDY+QcLk1DSmmdkiaZRKpFMu84+CCm3MzS+gLS4tByhyZXUNbX1jE01ubRfRdnb39lEODo+OUaonp2fnxC4uiV1d39B0e3f/gJLj8ekZTeZfMmivb+9oH5/EKl/ECk7NlSgiW2/4KN91L6RJ/jiuQJNoouFGVhgAkW3XokACwvr1rNAnvT/CnRW7w7qUAAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-timeout\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/1lnUXE8cPw3uUJ8ZFVMjDv/287c2b6fb8bf15530f103bb7a46a7309/timeout.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/1lnUXE8cPw3uUJ8ZFVMjDv/287c2b6fb8bf15530f103bb7a46a7309/timeout.png?w=466 466w,\nhttps://images.ctfassets.net/tushy4jlcik7/1lnUXE8cPw3uUJ8ZFVMjDv/287c2b6fb8bf15530f103bb7a46a7309/timeout.png?w=932 932w,\nhttps://images.ctfassets.net/tushy4jlcik7/1lnUXE8cPw3uUJ8ZFVMjDv/287c2b6fb8bf15530f103bb7a46a7309/timeout.png?w=1864 1864w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<ol>\n<li>Election timeout이 끝나면 Follower는 Candidate가 되고 Election term을 시작합니다.</li>\n<li>Candidate는 본인에게 투표를 하고 다른 노드들에게 투표 요청 메세지를 전달합니다.</li>\n<li>만일 메세지를 받는 노드가 해당 Election term에서 아직 투표를 하지 않았다면, 먼저 메세지를 전달해준 Candidate에게 투표합니다.</li>\n<li>투표를 마친 해당 노드는 Election timeout이 초기화 됩니다.</li>\n<li>가장 많은 표를 받은 노드가 Leader로 선정됩니다.</li>\n</ol>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 46.4968152866242%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAATCAMAAADVnb8xAAABR1BMVEX////8/Pzv7+/z8vP4+Pj7+vr7+/v09PTt7ezy8fH39/f+/v79/f3v7u7x8fD4+Pf7+/ru8fPs7/P8/Pvn6Oq6wcvr7O3+//+RrMpMhbbY4OqSpLsAW6OWp7yYsM0qerGzvcoocaS2v8z4+fvs8PX9/fzt7u//8/P/9fX/+fn/1NP//v7/ycn/09P/0dH/y8vv8fLr3+D/yMj9/v73+fv29vbp6ur+/Pz9+/zr8PXw8PFih6xBfKni5un/3d28ytxhj7rM1+Srq6tubm7a29vO2eYperG3xtrq6+06dqYAaqTa3OD/7++svtUAY6i1xdmzs7N6enre39/U3egoerGgtdDe4OTW2t/+//7d5O35+vz6+vrx8fHt8fX5+/z29fX6+vn19fX5+fnz8/L6+fnu7e3r6+vt7e3+/v/9/Pzt7O3q6ur8/P0x+T5VAAAA80lEQVQYGcXBWTvDQBgG0HeIKZmhKErtiga1G/ve2vd9aajUWvz/a5IveDK54co5+DNWUmpAV8YZNCxSXmFygQBZWRUVCJLVNbUxKRBUV98AXbyxKQFdc0srdPG29gR0HZ1dCEl2I6SnV+I/pCy4rBR+9PUPICQ9CNfQML6NjI6BjE/ApyanQKZn4Judm19YtOBaWl6BR6xmsiBr6xsgm1vbO+lduPb2D0AOj45BTk7P4Du/uARJXl2D5Gx8ubkF4fk7BpKPxuBhtlMAidw/CHjMR4fDJQpPzyZ7wSduOxye4uubMhAklWOYuXcEFJXiHL/3AToGHQ8FB6YVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-reelection\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/3yqR3Uoce93mduU0qTC0l0/9549b6a8dd7bf13c645868db4f3bbae3/reelection.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/3yqR3Uoce93mduU0qTC0l0/9549b6a8dd7bf13c645868db4f3bbae3/reelection.png?w=471 471w,\nhttps://images.ctfassets.net/tushy4jlcik7/3yqR3Uoce93mduU0qTC0l0/9549b6a8dd7bf13c645868db4f3bbae3/reelection.png?w=942 942w,\nhttps://images.ctfassets.net/tushy4jlcik7/3yqR3Uoce93mduU0qTC0l0/9549b6a8dd7bf13c645868db4f3bbae3/reelection.png?w=1884 1884w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<ol>\n<li>선정 이후 Leader는 Append Entries 메세지를 Follower들에게 전송합니다.</li>\n</ol>\n<p>(이 메세지는 <strong>Heartbeat timeout</strong> 에 설정된 간격마다 보내게 됩니다)\n2. Follower들은 Append Entries 메세지를 받으면 Election timeout이 초기화되고 메세지에 대한 응답을 Leader에게 보냅니다.\n3. 만일 Follower에게 Heartbeat가 도달하지 않으면 다시 Election term이 시작되고, Follower는 Candidate 상태로 전환됩니다.\n(위 그림은 노드A가 죽고 난 이후 노드B가 Leader로 선정되고 Heartbeat 메세지를 전달하는 예시입니다)</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 49.6054114994363%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAMAAADImI+JAAABm1BMVEX////19fX09PT5+fn9/f34+Pj8/Pzt7e3w8PD39/f+/v729vb8+/vu7u729fX6+vrx8PDy8fH7+/v+/f75+fjv7+/08/Pw7/D7+vry8/Ta3eP09PX9/P3z9PXa3uPz9PT//v7Z3+WFoL67xtTa3+aGob////6brsYfda2yv8/U39L09/Ts8ezX4NaesMgeda2zwNCnt8sAYqhhi7P39/ipuMtgirL29/f+/f2MpMAAZ6mmtsnI1cbx9PHn7efL18qRp8MAZqmntsrm6e2ZrcTL0t2ZrcXK0tzg5eVqlInu8fHY4tf19/Xt8u3f597j5+dpk4nu8fD+//3s8ev+//7B0cHv8+/k6+TL2Mrs8eq8zbzw9O/w8+76+/z19/r8/f7j6O87gaG7ytjj6e88gqG6yde6yNtejbrk6fDM1+Rij7vj6PC0xNkAXadymMD7/P21xdlwl7/E0OAzfLLZ4OrF0eAxfLHY3+rq7vSftdDQ2ubr7/SgttDQ2eb+/v/w8/f+/v35+Pj8/Pvs7Oz7+/zs6+zy8vPy8vL9/f72ao6jAAABO0lEQVQoz2NgoBQwMjGzQBmsLFAxNnYOTi4ogxvMYODi4WXnZoYy+Jgh6vgZBQQZhYAK+PkEBPmEhMFiTCKiYvxsYIa4mAQbWKGQhKSUNIghIyMrJ68AMZJBUUkZwlBRVVaDuUddQ1NLm4FBR1dP3wAmZmhkbAJmmBqZmUPFLCytrG1sGRjs7B0cnWAKnV1coQw3d7gPPTy9vH0YGHz9/AMC8QZFUHBIaBgDQ3iEWiTDIABqUdFQVlQMXDA2DsqIj4OLJSQmQRjJKalwwbT0DAgjMysbJpaTm5cPZhTkFubDBIuKSyCM0rJymFhFZRWEUV1TCzexrh6dwcCg0IDOAKYQ7kYhGKMJ5hfeZm6IIG8zZwtUkL9VFJLkJGAMBjYmdo42VmYIo52VH2YkFzqDgY2Ni4WLBcboICFcAZdmLXlpd95IAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-same1\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/1WStOivcFzgXTGyKIUnfVq/bafd938d4afdc5627df24dbc22821d6e/same1.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/1WStOivcFzgXTGyKIUnfVq/bafd938d4afdc5627df24dbc22821d6e/same1.png?w=444 444w,\nhttps://images.ctfassets.net/tushy4jlcik7/1WStOivcFzgXTGyKIUnfVq/bafd938d4afdc5627df24dbc22821d6e/same1.png?w=887 887w,\nhttps://images.ctfassets.net/tushy4jlcik7/1WStOivcFzgXTGyKIUnfVq/bafd938d4afdc5627df24dbc22821d6e/same1.png?w=1774 1774w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<ol>\n<li>만일 두 개의 노드가 동시에 Election term을 시작하고 메세지가 동시에 Follower에게 도달한다고 가정해보겠습니다.</li>\n<li>이러한 경우 노드A, 노드B는 2표씩 얻게 되고, 표가 동일하므로 해당 Election term에는 Leader가 선정되지 않습니다.</li>\n<li>Leader가 선정되지 않았으므로 Election timeout에 따라 새로운 Election term을 시작하게 됩니다.</li>\n</ol>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 50.112866817155755%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAMAAADImI+JAAABdFBMVEX////7+/v5+fn9/f38/Pzw8PDq6ur09PT4+Pjx8PDs6+zt7e329vb9/Pzs7Oz29fb8+/v08/P29vX09PP39/f6+vr+/v729fX49/f7+vrz8/Pz8vH19fT09fazwNDI0Nr09fe0wNDHz9rk5+y3wtHk5url6Oy2wtHj5urK0twAbapbibTn6e3N1N5dirX///6Rp8JqlL6vvc79/fyYrcVtlr6uvM7p6+96mbqWq8P4+Pnq7PB8mrqUqcP39/jFztmcscnH0NrJ0dyessnGztn7+/z+/f3//v7z9PX4+vf7/Pv4+vj9/v33+Pq9y9zd5Oz3+fu9y93T3Ofw8/fM1uT5+vzq7vPL1eMAYqc+gLPu8fbW3ukAZKgserHs8PXG0eEAXKXF0eCcs84AWqTDz9+Qq8qpvNT8/P3x9PeSrMqou9P7/P3p7fOkuNHn6/LO2OWZsc3m6/Hy8vL5+frz8vLu7u7v7+/v7u/39vf19fXu7u/9/P0cxTm1AAABM0lEQVQoz73R51PCMBgG8CSNtkqtVtri3qLi3nsLat0g7r33QAuOf154kxZEz9MvPp9+997zXpILQn8JJlj4jDhtYUydYkamKAGybCCa7ZKhkKO4cnkzT813q5puIKp63GpBoRGfSUWe4hKipwBSWlbOlioqq+xzqmtqGbx19c7RDb7GJkCzr8XLRq1t7R2doK7uHueSvX39A4DBoeERPhsdG2eYmJxKPtsf4KA20PSMkYZEZk2OORP9GHM+Hf+VhcUlhuWVoH3z0GqYYW097BSDG5tbgO2d3T0+2z84ZDg6PnGKodOzc8DF5dU1n93c3jHcPzwmzxa+4PtEFPkJ8KzI/P8DVlSDLSMWlfi68WJZEY3EoSUATfqqxETiB7yJhH821gUs0FQggRCqU8rxTtHv8wGHyCk1LUfdKQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-same2\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/HiBiIl1wDFXfJ0O8WukTX/a76fbf5bc7cad58f95edfd8bbfe7795d/same2.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/HiBiIl1wDFXfJ0O8WukTX/a76fbf5bc7cad58f95edfd8bbfe7795d/same2.png?w=443 443w,\nhttps://images.ctfassets.net/tushy4jlcik7/HiBiIl1wDFXfJ0O8WukTX/a76fbf5bc7cad58f95edfd8bbfe7795d/same2.png?w=886 886w,\nhttps://images.ctfassets.net/tushy4jlcik7/HiBiIl1wDFXfJ0O8WukTX/a76fbf5bc7cad58f95edfd8bbfe7795d/same2.png?w=1772 1772w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<br>\n<h2 id=\"log-replication\" style=\"position:relative;\"><a href=\"#log-replication\" aria-label=\"log replication permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Log Replication</h2>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-message\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/4kpjxl8foPXqkam5PRhM6m/3bfa22572c60e24690d23bf5df93e67b/message.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/4kpjxl8foPXqkam5PRhM6m/3bfa22572c60e24690d23bf5df93e67b/message.png?w=296 296w,\nhttps://images.ctfassets.net/tushy4jlcik7/4kpjxl8foPXqkam5PRhM6m/3bfa22572c60e24690d23bf5df93e67b/message.png?w=592 592w,\nhttps://images.ctfassets.net/tushy4jlcik7/4kpjxl8foPXqkam5PRhM6m/3bfa22572c60e24690d23bf5df93e67b/message.png?w=1184 1184w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Leader가 선정되고 난 이후, 시스템의 모든 변화는 Leader를 통해 이루어집니다.\n클라이언트는 Leader에게 데이터를 전달하고, Leader는 데이터의 복제하여 Follower에게 전달합니다.\n이 과정은 앞서 언급했던 <strong>Append Entries</strong> 메세지를 통해 이루어집니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"raft-res\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/7d55dhp9iGNA9yCdVHa47M/96613792d4891ade47f0535f52cf3c6d/res.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/7d55dhp9iGNA9yCdVHa47M/96613792d4891ade47f0535f52cf3c6d/res.png?w=333 333w,\nhttps://images.ctfassets.net/tushy4jlcik7/7d55dhp9iGNA9yCdVHa47M/96613792d4891ade47f0535f52cf3c6d/res.png?w=666 666w,\nhttps://images.ctfassets.net/tushy4jlcik7/7d55dhp9iGNA9yCdVHa47M/96613792d4891ade47f0535f52cf3c6d/res.png?w=1332 1332w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Follower는 받은 데이터를 commit 하고 결과를 Leader에게 전달합니다.\nLeader는 Follow로부터 받은 결과를 Client에게 전달합니다.</p>\n<br>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p>정리하자면 분산 시스템은 fault-tolerence를 보장하기 위해 consensus algorithm을 사용하고 있고,\n분산 시스템을 다루는 프레임워크마다 Consensus 구현이 조금씩 다를 수 있습니다.\n그리고 원활한 Leader Election을 위해 클러스터 노드의 개수는 홀수로 구성하는 것이 좋습니다.</p>\n<p>Raft의 경우 Redis cluster에서 응용하여 사용하고 있고,\nElasticsearch cluster 또한 quorum-based consensus algorithm을 사용하고 있습니다.\n아래의 Raft 논문과 시각화 자료 링크를 보시면 더 쉽게 이해할 수 있습니다.</p>\n<ul>\n<li><a href=\"https://raft.github.io/raft.pdf\">https://raft.github.io/raft.pdf</a></li>\n<li><a href=\"http://thesecretlivesofdata.com/raft/\">http://thesecretlivesofdata.com/raft/</a></li>\n<li><a href=\"https://raft.github.io/\">https://raft.github.io/</a></li>\n</ul>\n<br>","excerpt":"Consensus란 분산 시스템에서 노드 간의 상태를 공유하는 알고리즘을 말합니다.\n가장 유명한 알고리즘으로 Paxos가 있고, Zookeeper에서 사용하는 Zab이 있습니다.\nRaft는 이해하기 어려운 기존의 알고리즘과 달리 쉽게 이해하고 구현하기 위해 설계되었습니다.\n(PS. 이 글은 블록체인에서의 Consensus 알고리즘을 말하는 것이 아닙니다) What is consensus problem…"}}}},"pageContext":{"slug":"raft-consensus","basePath":"","prev":{"slug":"start","publishDate":"2018-11-09"},"next":{"slug":"aws-hadoop","publishDate":"2018-06-13"}}},"staticQueryHashes":["1946181227","2744905544","3732430097"]}