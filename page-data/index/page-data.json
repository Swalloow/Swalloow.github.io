{"componentChunkName":"component---src-templates-posts-js","path":"/","result":{"data":{"allContentfulPost":{"edges":[{"node":{"title":"데이터 플랫폼 마이그레이션 전략","id":"80b19fb2-0a15-52a0-995b-75532f9b3052","slug":"data-platform-migration","publishDate":"December 22, 2024","heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":5,"html":"<p>데이터 플랫폼 아키텍처는 지난 몇 년간 많은 변화를 마주해왔습니다.<br>\n시대에 따라 실시간, AI 등 새로운 요구사항이 등장했고 데이터와 활용 시스템이 증가함에 따라 확장성, 안정성, 비용 절감 등 다양한 문제를 해결해야만 했습니다. 그 결과 온프레미스와 클라우드 네이티브 환경, 데이터 웨어하우스부터 데이터 레이크 그리고 레이크 하우스까지 아키텍처의 변화에 따라 대규모 마이그레이션 프로젝트가 이루어졌습니다. 이번 글에서는 여러 번의 데이터 플랫폼 마이그레이션을 경험하며 배운 전략을 소개해드리려고 합니다.</p>\n<p><br><br></p>\n<h2 id=\"준비-단계\" style=\"position:relative;\"><a href=\"#%EC%A4%80%EB%B9%84-%EB%8B%A8%EA%B3%84\" aria-label=\"준비 단계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>준비 단계</h2>\n<p>성공적인 전환을 위해서는 현재 환경을 정확히 파악하고, 새로운 목표와 요구사항을 명확히 설정한 다음, 잠재적 위험 요소를 사전에 식별해 대비해야 합니다. 그리고 가장 적합한 마이그레이션 전략과 패턴을 선택해 조직의 상황에 맞게 적절한 로드맵을 그리는 것이 중요합니다.</p>\n<p><strong>1. 현재 환경 분석</strong><br>\n우선적으로 수행해야 할 일은 기존 환경을 분석하는 것 입니다.<br>\n클러스터가 어떻게 구성되어 있는지, 실행 중인 워크로드의 특성과 스케줄 주기, 의존 관계 등 현황을 파악해야 합니다.\n그리고 원활한 마이그레이션을 위해 모니터링, 로깅, 알람 시스템이 체계적으로 구성되어 있는지 진단이 필요합니다. 분석을 통해 마이그레이션 과정에서 예상되는 문제와 개선 포인트를 파악할 수 있습니다.</p>\n<p><strong>2. 목표 설정</strong><br>\n기존 환경 분석을 마쳤다면, 마이그레이션을 통해 달성하고자 하는 구체적인 목표를 설정해야 합니다.<br>\n예를 들어 실시간 BI 대시보드 제공, 데이터 처리 성능 개선 등 목표를 나누어 우선순위를 정의하면 이를 통해 로드맵을 작성할 수 있습니다.</p>\n<p>목표를 측정하고 검증할 수 있는 <strong>키 메트릭(Key Metrics)</strong> 을 정의하는 것이 좋습니다.<br>\n수치와 데이터로 마이그레이션 성과를 확인할 수 있고 새로운 기술 도입 등 마이그레이션 과정에서 발생할 수 있는 다양한 의사 결정 상황의 근거가 됩니다. 예를 들면 다음과 같습니다.</p>\n<ul>\n<li>처리 성능: 배치 작업 처리 시간, 쿼리 수행 시간, DAG 완료까지 걸리는 시간 등</li>\n<li>비용: 클라우드 사용량(컴퓨팅, 스토리지), 메모리 사용량, 비용 대비 성능 향상 효과(ROI)</li>\n<li>안정성: SLA 준수율, 장애 발생 빈도 및 평균 복구 시간(MTTR), 재시도 비율 등</li>\n</ul>\n<p><strong>3. 서비스 영향도 파악</strong><br>\n목표 설정이 끝났다면, 이를 달성하는 과정에서 발생할 수 있는 리스크를 살펴봐야 합니다.<br>\n대표적으로는 데이터 유실이나 장애로 인한 서비스 다운타임, 예상치 못한 성능 저하, 하위 호환성 문제 등이 있습니다. 마이그레이션 진행 과정에서 문제가 발생했을 때 빠르게 대응할 수 있도록, 백업 및 롤백 플랜과 다운타임 최소화 방안을 마련하는 것도 중요합니다.</p>\n<p>마지막으로 상황을 고려하여 가장 적합한 마이그레이션 전략을 선택하고 계획을 세워야 합니다.<br>\n이제 대표적인 마이그레이션 전략에 대해 알아보겠습니다.</p>\n<p><br><br></p>\n<h2 id=\"lift--shift\" style=\"position:relative;\"><a href=\"#lift--shift\" aria-label=\"lift  shift permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lift &#x26; Shift</h2>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 38.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAQCAMAAABTCc2fAAAABGdBTUEAALGPC/xhBQAACilpQ0NQaWNjAABIiZ2Wd1RT2RaHz703vVCSEIqU0GtoUgJIDb1IkS4qMQkQSsCQACI2RFRwRFGRpggyKOCAo0ORsSKKhQFRsesEGUTUcXAUG5ZJZK0Z37x5782b3x/3fmufvc/dZ+991roAkPyDBcJMWAmADKFYFOHnxYiNi2dgBwEM8AADbADgcLOzQhb4RgKZAnzYjGyZE/gXvboOIPn7KtM/jMEA/5+UuVkiMQBQmIzn8vjZXBkXyTg9V5wlt0/JmLY0Tc4wSs4iWYIyVpNz8ixbfPaZZQ858zKEPBnLc87iZfDk3CfjjTkSvoyRYBkX5wj4uTK+JmODdEmGQMZv5LEZfE42ACiS3C7mc1NkbC1jkigygi3jeQDgSMlf8NIvWMzPE8sPxc7MWi4SJKeIGSZcU4aNkxOL4c/PTeeLxcwwDjeNI+Ix2JkZWRzhcgBmz/xZFHltGbIiO9g4OTgwbS1tvijUf138m5L3dpZehH/uGUQf+MP2V36ZDQCwpmW12fqHbWkVAF3rAVC7/YfNYC8AirK+dQ59cR66fF5SxOIsZyur3NxcSwGfaykv6O/6nw5/Q198z1K+3e/lYXjzkziSdDFDXjduZnqmRMTIzuJw+Qzmn4f4Hwf+dR4WEfwkvogvlEVEy6ZMIEyWtVvIE4gFmUKGQPifmvgPw/6k2bmWidr4EdCWWAKlIRpAfh4AKCoRIAl7ZCvQ730LxkcD+c2L0ZmYnfvPgv59V7hM/sgWJH+OY0dEMrgSUc7smvxaAjQgAEVAA+pAG+gDE8AEtsARuAAP4AMCQSiIBHFgMeCCFJABRCAXFIC1oBiUgq1gJ6gGdaARNIM2cBh0gWPgNDgHLoHLYATcAVIwDp6AKfAKzEAQhIXIEBVSh3QgQ8gcsoVYkBvkAwVDEVAclAglQ0JIAhVA66BSqByqhuqhZuhb6Ch0GroADUO3oFFoEvoVegcjMAmmwVqwEWwFs2BPOAiOhBfByfAyOB8ugrfAlXADfBDuhE/Dl+ARWAo/gacRgBAROqKLMBEWwkZCkXgkCREhq5ASpAJpQNqQHqQfuYpIkafIWxQGRUUxUEyUC8ofFYXiopahVqE2o6pRB1CdqD7UVdQoagr1EU1Ga6LN0c7oAHQsOhmdiy5GV6Cb0B3os+gR9Dj6FQaDoWOMMY4Yf0wcJhWzArMZsxvTjjmFGcaMYaaxWKw61hzrig3FcrBibDG2CnsQexJ7BTuOfYMj4nRwtjhfXDxOiCvEVeBacCdwV3ATuBm8Et4Q74wPxfPwy/Fl+EZ8D34IP46fISgTjAmuhEhCKmEtoZLQRjhLuEt4QSQS9YhOxHCigLiGWEk8RDxPHCW+JVFIZiQ2KYEkIW0h7SedIt0ivSCTyUZkD3I8WUzeQm4mnyHfJ79RoCpYKgQo8BRWK9QodCpcUXimiFc0VPRUXKyYr1iheERxSPGpEl7JSImtxFFapVSjdFTphtK0MlXZRjlUOUN5s3KL8gXlRxQsxYjiQ+FRiij7KGcoY1SEqk9lU7nUddRG6lnqOA1DM6YF0FJppbRvaIO0KRWKip1KtEqeSo3KcRUpHaEb0QPo6fQy+mH6dfo7VS1VT1W+6ibVNtUrqq/V5qh5qPHVStTa1UbU3qkz1H3U09S3qXep39NAaZhphGvkauzROKvxdA5tjssc7pySOYfn3NaENc00IzRXaO7THNCc1tLW8tPK0qrSOqP1VJuu7aGdqr1D+4T2pA5Vx01HoLND56TOY4YKw5ORzqhk9DGmdDV1/XUluvW6g7ozesZ6UXqFeu169/QJ+iz9JP0d+r36UwY6BiEGBQatBrcN8YYswxTDXYb9hq+NjI1ijDYYdRk9MlYzDjDON241vmtCNnE3WWbSYHLNFGPKMk0z3W162Qw2szdLMasxGzKHzR3MBea7zYct0BZOFkKLBosbTBLTk5nDbGWOWtItgy0LLbssn1kZWMVbbbPqt/pobW+dbt1ofceGYhNoU2jTY/OrrZkt17bG9tpc8lzfuavnds99bmdux7fbY3fTnmofYr/Bvtf+g4Ojg8ihzWHS0cAx0bHW8QaLxgpjbWadd0I7eTmtdjrm9NbZwVnsfNj5FxemS5pLi8ujecbz+PMa54256rlyXOtdpW4Mt0S3vW5Sd113jnuD+wMPfQ+eR5PHhKepZ6rnQc9nXtZeIq8Or9dsZ/ZK9ilvxNvPu8R70IfiE+VT7XPfV8832bfVd8rP3m+F3yl/tH+Q/zb/GwFaAdyA5oCpQMfAlYF9QaSgBUHVQQ+CzYJFwT0hcEhgyPaQu/MN5wvnd4WC0IDQ7aH3wozDloV9H44JDwuvCX8YYRNRENG/gLpgyYKWBa8ivSLLIu9EmURJonqjFaMTopujX8d4x5THSGOtYlfGXorTiBPEdcdj46Pjm+KnF/os3LlwPME+oTjh+iLjRXmLLizWWJy++PgSxSWcJUcS0YkxiS2J7zmhnAbO9NKApbVLp7hs7i7uE54Hbwdvku/KL+dPJLkmlSc9SnZN3p48meKeUpHyVMAWVAuep/qn1qW+TgtN25/2KT0mvT0Dl5GYcVRIEaYJ+zK1M/Myh7PMs4qzpMucl+1cNiUKEjVlQ9mLsrvFNNnP1IDERLJeMprjllOT8yY3OvdInnKeMG9gudnyTcsn8n3zv16BWsFd0VugW7C2YHSl58r6VdCqpat6V+uvLlo9vsZvzYG1hLVpa38otC4sL3y5LmZdT5FW0ZqisfV+61uLFYpFxTc2uGyo24jaKNg4uGnupqpNH0t4JRdLrUsrSt9v5m6++JXNV5VffdqStGWwzKFsz1bMVuHW69vctx0oVy7PLx/bHrK9cwdjR8mOlzuX7LxQYVdRt4uwS7JLWhlc2V1lULW16n11SvVIjVdNe61m7aba17t5u6/s8djTVqdVV1r3bq9g7816v/rOBqOGin2YfTn7HjZGN/Z/zfq6uUmjqbTpw37hfumBiAN9zY7NzS2aLWWtcKukdfJgwsHL33h/093GbKtvp7eXHgKHJIcef5v47fXDQYd7j7COtH1n+F1tB7WjpBPqXN451ZXSJe2O6x4+Gni0t8elp+N7y+/3H9M9VnNc5XjZCcKJohOfTuafnD6Vderp6eTTY71Leu+ciT1zrS+8b/Bs0Nnz53zPnen37D953vX8sQvOF45eZF3suuRwqXPAfqDjB/sfOgYdBjuHHIe6Lztd7hmeN3ziivuV01e9r567FnDt0sj8keHrUddv3ki4Ib3Ju/noVvqt57dzbs/cWXMXfbfkntK9ivua9xt+NP2xXeogPT7qPTrwYMGDO2PcsSc/Zf/0frzoIflhxYTORPMj20fHJn0nLz9e+Hj8SdaTmafFPyv/XPvM5Nl3v3j8MjAVOzX+XPT806+bX6i/2P/S7mXvdNj0/VcZr2Zel7xRf3PgLett/7uYdxMzue+x7ys/mH7o+Rj08e6njE+ffgP3hPP78QcZjQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABCFBMVEX////3+Pj5+fn8/P38/Pz7+/z7+/v+/v74+Pn19fX6+vr9/f3V1tjf4OHp6erv7+/s7Ozn5+f4+fn8/f36+vvk5eXc3d7j4+Pp6eno6Oj39/fh4uPu7+/9/v76+/vr6+zq6+z7/Pz++/r//Pv//v7//v3//fz9+vn8+Pb//Pz//f3u3tbu5+Pz8O//+/r06eTs4dv49fX/+vj39/bt7e3w8PD29vbm5ubq6urr6+v4+Pjy8/P09PT/+Pb99vH+8ej/+vn///7//fv+7+X/+vfy8vLu7u75+frz8vL79/T46d/9+fj9/Pv36+T58u7//Pr39vb28/Py7uz49vX/+/n79/fz7+718O8/D7dcAAABEElEQVQYGcXBhzIDQQCA4d9Zu25XSSLa4pArOBxyciFa1Oi9vP+bWDMx4gGM7+Mv9Hn9QogB2aVwBn1Pez80jhkaHhktlSum/8tYtYozPjFZnpq2sstXgJmZlUJruuYCnPmFijGSb1YBc4v0MgGOrYVRHCfR0vJKmiaJVYAJQAql0RgDagDHrq6t1+Ik29jcCtO0nivABLDdKJqiKXd2vZa/17Kt/cYBh0eQtY9PTs/IcgWYAM59OyovZKkkRMcKIbzLkKvrG7KQ27t7HnIFmAC0FFp5SkhQEuexnjw9vySv7fDt/SOr5wowAb1MgFMkaRzFaUQEHGMVYDS9TBWn4BerADXY8X50KgLHFr/xnz4B/0gew16+kCoAAAA4dEVYdGljYzpjb3B5cmlnaHQAQ29weXJpZ2h0IChjKSAxOTk4IEhld2xldHQtUGFja2FyZCBDb21wYW55+Vd5NwAAACF0RVh0aWNjOmRlc2NyaXB0aW9uAHNSR0IgSUVDNjE5NjYtMi4xV63aRwAAACZ0RVh0aWNjOm1hbnVmYWN0dXJlcgBJRUMgaHR0cDovL3d3dy5pZWMuY2gcfwBMAAAAN3RFWHRpY2M6bW9kZWwASUVDIDYxOTY2LTIuMSBEZWZhdWx0IFJHQiBjb2xvdXIgc3BhY2UgLSBzUkdCRFNIqQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"dp-lift-and-shift\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/4eYBhzAHg3QghaogR1eIT8/90ffa158d6201bcec5b4fbc35d00e14b/dp-lift-and-shift.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/4eYBhzAHg3QghaogR1eIT8/90ffa158d6201bcec5b4fbc35d00e14b/dp-lift-and-shift.png?w=200 200w,\nhttps://images.ctfassets.net/tushy4jlcik7/4eYBhzAHg3QghaogR1eIT8/90ffa158d6201bcec5b4fbc35d00e14b/dp-lift-and-shift.png?w=400 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/4eYBhzAHg3QghaogR1eIT8/90ffa158d6201bcec5b4fbc35d00e14b/dp-lift-and-shift.png?w=800 800w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Lift &#x26; Shift는 기존의 어플리케이션이나 인프라를 최소한의 수정을 통해 새로운 환경으로 옮기는 접근 방식입니다.<br>\n예를 들어 YARN 기반 Spark 클러스터를 AWS 클라우드로 이전하는 경우, HDFS 데이터를 S3로 복사하고 EC2에 Spark을 설치 후 실행하는 방식입니다.</p>\n<p>이 전략은 빠르고 간편한 이전을 통해 마이그레이션 기간을 최소화할 수 있으며 기존 작업 코드와 아키텍처를 그대로 이전하기 때문에 문제가 발생할 가능성이 낮습니다. 이러한 이유로 처음으로 온프레미스에서 클라우드로 마이레이션 하는 상황 또는 일정이 짧은 경우에 사용합니다.</p>\n<p>하지만 클라우드와 같은 새로운 환경의 장점을 최대로 활용하지 못하는 단점이 있습니다. 결국 비용, 최적화 문제로 추가적인 개선을 진행하는 경우가 많았습니다.</p>\n<p><br><br></p>\n<h2 id=\"replatforming\" style=\"position:relative;\"><a href=\"#replatforming\" aria-label=\"replatforming permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Replatforming</h2>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 32.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"dp-platforming\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/2HNrGdVve8BBTzPMOf0fPM/ce6a2e0c8142f2602322e3778cb86159/dp-platforming.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/2HNrGdVve8BBTzPMOf0fPM/ce6a2e0c8142f2602322e3778cb86159/dp-platforming.png?w=200 200w,\nhttps://images.ctfassets.net/tushy4jlcik7/2HNrGdVve8BBTzPMOf0fPM/ce6a2e0c8142f2602322e3778cb86159/dp-platforming.png?w=400 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/2HNrGdVve8BBTzPMOf0fPM/ce6a2e0c8142f2602322e3778cb86159/dp-platforming.png?w=800 800w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Replatforming은 핵심 비즈니스 로직은 유지하되, 인프라 구성이나 일부 서비스(데이터베이스, 메세징, 스토리지 등)를 클라우드 친화적으로 변경하여 새로운 환경에 이전하는 방식입니다.\n예를 들어 YARN 기반 Spark 클러스터를 AWS 클라우드로 이전하는 경우, AWS EMR, Glue 등의 매니지드 서비스를 활용하고 로컬 HDFS 대신 S3와 같은 오브젝트 스토리지를 활용하는 방식입니다.</p>\n<p>이 방식은 스토리지와 컴퓨팅 자원을 분리하여 확장성 있는 클라우드의 장점을 얻을 수 있습니다. 또한 매니지드 서비스를 사용한다면 운영 부담을 줄일 수 있습니다. Replatforming은 장기적으로 팀 전체가 새로운 환경에 익숙해지는 계기가 되기도 합니다.</p>\n<p>하지만 일부 코드와 아키텍처 수정이 필요하고 변경되는 요소들에 대한 성능 검증, 호환성 테스트가 필요합니다. Lift &#x26; Shift 방식에 비해 마이그레이션 시간이 소요되므로 레거시 시스템과 공존하는 기간이 생길 수 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"refactoring\" style=\"position:relative;\"><a href=\"#refactoring\" aria-label=\"refactoring permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Refactoring</h2>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 51.87500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"dp-refactoring\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/73lPhv5ZjfykJDA0yCh02K/a0c3067d12553859c540310d6c7c81bf/dp-refactoring.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/73lPhv5ZjfykJDA0yCh02K/a0c3067d12553859c540310d6c7c81bf/dp-refactoring.png?w=200 200w,\nhttps://images.ctfassets.net/tushy4jlcik7/73lPhv5ZjfykJDA0yCh02K/a0c3067d12553859c540310d6c7c81bf/dp-refactoring.png?w=400 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/73lPhv5ZjfykJDA0yCh02K/a0c3067d12553859c540310d6c7c81bf/dp-refactoring.png?w=800 800w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Refactoring은 기존 아키텍처를 근본적으로 재설계하고, 필요하다면 코드를 크게 수정해 클라우드 네이티브 환경에 맞게 최적화하는 접근 방식입니다. 예를 들어 기존 온프레미스 VM 기반의 데이터 플랫폼의 모든 컴포넌트를 Data on EKS 아키텍처로 재설계하는 방식입니다. 이를 위해 데이터 인프라 전반의 변화와 데이터 처리 파이프라인 전체에 대한 수정이 필요합니다.</p>\n<p>이 방식은 장기적인 관점에서 성능, 비용, 운영 효율성 등을 크게 개선할 수 있습니다.\n또한 유연하고 확장 가능한 구조로 전환하여 데이터 기반 의사결정과 비즈니스 요구사항 대응을 극대화할 수 있습니다.</p>\n<p>하지만 코드와 아키텍처를 전면 재설계해야 하므로, 많은 시간과 인력이 필요합니다.\n또한 새로 도입하는 기술과 구조가 안정화되는데 시간이 걸리고, 스케일링 이슈 등 예상치 못한 문제가 발생할 수 있습니다.</p>\n<p>따라서 적용 시 PoC를 통해 성능, 호환성 등을 검증하고 리스크를 최소화하는 것이 중요합니다.<br>\n그리고 한 번에 전체를 전환하기보다 점진적인 전환 방식이 필요합니다. 큰 변화를 동시에 적용하는 경우, 인프라/플랫폼/어플리케이션 등 다양한 문제가 공존할 수 있어 문제의 범위를 좁히기 어렵습니다.</p>\n<p>Refactoring은 장기간의 로드맵을 통해 달성할 수 있습니다. 도입하려는 새로운 기술에 대한 경험을 가진 사람이 팀에 존재한다면 마이그레이션 과정에서 마주하는 문제를 쉽게 해결할 수 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"strangler-fig-패턴\" style=\"position:relative;\"><a href=\"#strangler-fig-%ED%8C%A8%ED%84%B4\" aria-label=\"strangler fig 패턴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Strangler Fig 패턴</h2>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 37.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAPCAAAAACzPNI/AAAA0klEQVQoz42S627DIAyF+/7v2Snd1paEYuNr1pAmONJ+xBIIdD7sY+Ayn4zLe3DBfW8IBx2KdFAr7YJTPYBctYMze1DsADqF0l64C2G9hBQPpR/B44gHsE4WSmfpSgaPoOVQepagYQopNWt176BuoImySO+NQZhZdxB1cyTrlWydtMYMPiDiWHCxLJBe1d/z2A4oTAnIcPoFbGCVa2pniYenKOntW6nl+xmYRB5fUhtI5T62jIwpozHkDNxe85VBfJl59Whmq32flxbd3f//FKfiD2uCUJ7OptumAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"dp-strangler\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/1ozgS4cDSGHF15ddm1HNiv/74456bf3b6558cbabe72b1fb520f1c05/dp-strangler.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/1ozgS4cDSGHF15ddm1HNiv/74456bf3b6558cbabe72b1fb520f1c05/dp-strangler.png?w=200 200w,\nhttps://images.ctfassets.net/tushy4jlcik7/1ozgS4cDSGHF15ddm1HNiv/74456bf3b6558cbabe72b1fb520f1c05/dp-strangler.png?w=400 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/1ozgS4cDSGHF15ddm1HNiv/74456bf3b6558cbabe72b1fb520f1c05/dp-strangler.png?w=800 800w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>앞서 살펴본 전략 중 Replatforming과 Refactoring은 코드와 아키텍처 수정이 필요합니다.\n이 때 Strangler Fig 패턴을 사용한다면 한 번에 바꾸지 않고, 특정 기능이나 서비스 단위로 신규 시스템을 도입하면서, 기존 기능을 점차 축소해 나가는 단계적 접근이 가능합니다.</p>\n<p>이 방식을 통해 장기간 다운타임 없이 안정적인 이관이 가능하며, 나누어 진행하기 때문에 실패 시 빠르게 롤백이 가능합니다. 또한 기존 시스템과 공존하기 때문에 비즈니스 운영의 연속성을 유지할 수 있습니다. 레거시 시스템의 규모가 크거나 복잡할 때 많이 사용하는 전략입니다. 다음으로 몇 가지 메이저 버전 업데이트 적용 사례를 소개해드리겠습니다.<br></p>\n<p><strong>Spark 클러스터 버전 업데이트</strong><br></p>\n<ul>\n<li>신규 버전 클러스터 생성, 성능 검증, 호환성 테스트 진행</li>\n<li>기존 버전과 신규 버전 클러스터 동시 운영</li>\n<li>가장 영향도가 낮은 작업부터 점진적으로 이관, 모니터링</li>\n<li>신규 클러스터에서 실행하는 작업이 안정화되면 남은 작업 전체 이관</li>\n<li>기존 클러스터 종료 후 제거, 키 메트릭을 통해 성과 확인</li>\n</ul>\n<p><strong>Airflow 클러스터 버전 업데이트</strong><br></p>\n<ul>\n<li>신규 버전 클러스터 생성, 성능 검증, 호환성 테스트 진행</li>\n<li>DAG 코드 자동 변환 스크립트, 신규 버전 스위칭 시스템 개발</li>\n<li>가장 영향도가 낮은 DAG 부터 점진적으로 이관, 모니터링</li>\n<li>문제 발생 시 신규 버전 DAG 비활성화, 기존 버전 DAG 활성화로 롤백</li>\n<li>신규 클러스터에서 실행하는 작업이 안정화되면 남은 작업 전체 이관</li>\n<li>기존 클러스터 종료 후 제거, 키 메트릭을 통해 성과 확인</li>\n</ul>\n<p><strong>Trino 클러스터 버전 업데이트</strong><br></p>\n<ul>\n<li>Trino Gateway 도입을 통해 트래픽 라우팅 설정</li>\n<li>신규 버전 클러스터 생성, 성능 검증, 호환성 테스트 진행</li>\n<li>가장 영향도가 낮은 시스템부터 신규 버전으로 트래픽 라우팅, 모니터링</li>\n<li>점진적으로 라우팅 비율을 높여 더 많은 쿼리 요청이 신규 버전으로 전환</li>\n<li>신규 클러스터 전환 후 안정적으로 처리되는 것을 확인</li>\n<li>기존 클러스터 점진적으로 종료 후 제거, 키 메트릭을 통해 성과 확인</li>\n</ul>\n<br>\n<p>점진적인 마이그레이션은 시간이 오래 걸릴 수 있습니다.\n이 때 도움이 될 수 있는 몇 가지 방법을 소개합니다.</p>\n<p>업데이트가 진행되는 동안에는 <strong>실행 중인 사용자의 작업에 영향이 없어야 합니다</strong>.<br>\n실행 중인 작업 또는 쿼리가 완료될 때까지 대기 후 안정적으로 종료되는 decommision과 graceful shutdown이 필요합니다.</p>\n<p>롤백을 위해 코드의 <strong>하위 호환성을 유지</strong>해야 합니다.<br>\n의존성을 가진 시스템을 모두 기억하고 테스트하기 어렵기 때문에 통합 테스트 환경을 준비해두면 좋습니다.</p>\n<p>업데이트에 따른 코드 수정을 전부 사용자에게 위임하면 후순위로 밀려 진행 속도가 느려질 수 있습니다. <strong>자동화된 마이그레이션</strong>을 위해 스크립트나 도구를 제공하고 테스트 가이드가 필요합니다.</p>\n<p>그럼에도 후순위로 밀려 진행되지 못한 작업은 <strong>CI를 통해 강제 전환을 유도</strong>할 수 있습니다.<br>\n예를 들면 새로 올라오는 PR에 대해 구 버전을 사용하는 경우, 단위 테스트가 실패하도록 설정합니다.</p>\n<p><br><br></p>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며</h2>\n<p>그 동안 여러 회사와 환경을 경험하며 <strong>Lift &#x26; Shift → Replatforming → Refactoring</strong>으로 변화하는 모습을 보았습니다. 대규모 마이그레이션일 수록 준비 단계와 점진적인 전환 방식이 중요했습니다. 한 가지 전략만 계획하기보다 컴포넌트 별 다양한 전략을 유연하게 선택하는 방법도 가능합니다. 실제 마이그레이션 과정에서는 보안, 네트워크, 조직 간 협업, 러닝 커브 등 더 많은 요소들을 마주할 수 있습니다.</p>\n<p>데이터 플랫폼 마이그레이션은 단일 이벤트가 아니라 지속적인 개선 과정입니다. 앞으로도 새로운 문제가 나타나며 기술은 계속 발전합니다. 데이터 플랫폼 아키텍처도 이에 따라 진화해야 합니다. 변화를 두려워하지 않고 꾸준히 개선해 나가다보면 조직 전체에 긍정적인 영향을 줄 수 있을 것이라 생각합니다.\n<br><br></p>","excerpt":"데이터 플랫폼 아키텍처는 지난 몇 년간 많은 변화를 마주해왔습니다.\n시대에 따라 실시간, AI…"}}}},{"node":{"title":"LLM 서비스 최적화: 리전 로드밸런싱과 캐싱","id":"dfdf9651-3561-51fd-9cfd-283b97b22b84","slug":"rag-application-for-production-1","publishDate":"October 13, 2024","heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":4,"html":"<p>최근 다양한 영역에서 LLM 기반 서비스 개발 사례가 늘어나고 있습니다.<br>\n그 중에서도 검색 결과를 바탕으로 자연어를 생성하는 RAG 방식이 많이 활용되고 있습니다.<br>\n이번 글에서는 RAG 어플리케이션을 운영하며 고민했던 내용들을 정리해보려 합니다.<br></p>\n<p><br><br></p>\n<h2 id=\"problem\" style=\"position:relative;\"><a href=\"#problem\" aria-label=\"problem permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Problem</h2>\n<p>LLM 기반 서비스는 다양한 형태로 구성될 수 있습니다.<br>\n간단한 요구사항은 [단일 프롬프트 - 응답] 구조를 통해 쉽게 해결할 수 있습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 41.86666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAARCAMAAACYVR46AAAB9VBMVEX39vf39/X19fX3+ff2+vb3+vf2+fb1+PX19/X09/T29/b4+Pj49/j39/f4+Pf5+fj39vj29vn39/r39vn29fj19fj19ff09Pf29vj5+fnb8dzF48bI5cnF4cbL6czW9tfW9dfV9dbU9dXg9eDd2/HEweDFwt/IxePGw+DHxeLV0vLW1PTW0/TW0/PU0vPf3fTU7tW42rq727y417m+37/D5MTF58bB4sLD5cTN8M7Q9dHb9dzY1u+5ttm6t9i8udu5tte6uNjDwePBv+HEwePCv+HAvd/EweTPy/Ha2PT4+fjY8Ni+4MDB4sPJ6srR9NLQ8tHP8tDP8tHQ89HQ9NHd9d7a2PDBvuHCv+DBvt+/vN2+u9zAvd7Avt/Nyu7c2vT5+Pny9/Lv9+/t9e3u9u/v9/Du9+/y8vfu7vbv7vbv7/fp6PHu7fXy8ff6+frw7/D19PX59/n29fbq6err6+r29vXu7u708/T8/Pz7+/v29vbx8fHv7+/6+vr09PTz8/P9/f3s7Ozo6Ons7O3////g4ODU1NTW1tbX19fd3d3f39/e3t7i4uLy8vLr6+vp6urt7e7w8PDn5+jZ2dnBwcHDw8PV1dXb29va2trh4eHq6urn5+fk5OTc3Nzz8/T+/v719fXt7e3f3+Dn6Ojy8/Py8vP7+/x7RBKdAAAAA3RSTlPf399sb6BGAAABkElEQVQYGYXBv2pTYRzH4c/3d96YlJNEK9JYCwaH0skb0AvwCpwL/qFDkAoOrYubQ6EapeKgHXTWm/AOBDehitFoNWA0DcSYc97Xc05SsZPPIyIJiZwySIBSJwmUAaSvblFTZCTtM5MsagYkjRwLKgRT6qR9Dp3Wv5YcS8ohKQ0lvebQGUnBegs+QtJLd0m5FJClbgIhUJhX7kQgE0pO8eW69IP5/kl5+rzgLwfX9YTCxVeKoaVH9VWkgKm9vgM3gIfUr+0OPdxqezJOASqsSXrcYmgW31ZhPTzzww1IamCAU6BQ1Ubqxg/uSkLSQbl65ey9j0nZHWBkjKlJrRof/xbdnIyiikkEv217o1ON3/yiYGSajNNOp/Oh1OROufu+2/30bnCfJPqSbIXxcwqqeVqVp4M6mQHU18aEle7QN7YH0D7WMqYcmWizx8zy5ta4sueqyferZN5yKCoHLtjIZlZ6y0PmfjY/V841+maDNkEUFHNEfVWcf+Mm7DBl5DyKOcLAGzlPzsh5kM1h/I9n9Affon/09Pb/CgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"llm-service\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/C8rw3MVZjg3ve0pQ7q55C/1dd82263e75b0aaecfec02f34d8d7e8f/llm-service.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/C8rw3MVZjg3ve0pQ7q55C/1dd82263e75b0aaecfec02f34d8d7e8f/llm-service.png?w=188 188w,\nhttps://images.ctfassets.net/tushy4jlcik7/C8rw3MVZjg3ve0pQ7q55C/1dd82263e75b0aaecfec02f34d8d7e8f/llm-service.png?w=375 375w,\nhttps://images.ctfassets.net/tushy4jlcik7/C8rw3MVZjg3ve0pQ7q55C/1dd82263e75b0aaecfec02f34d8d7e8f/llm-service.png?w=750 750w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>하지만 위의 복잡한 시나리오와 같이 2번 이상의 LLM 요청이 필요한 서비스의 경우,<br>\n다음과 같은 문제를 고려해야 합니다.<br></p>\n<p><strong>1. Token Rate Limit</strong><br>\n모든 LLM 요청에는 토큰 제한이 존재합니다.<br>\n예를 들어 Azure OpenAI API의 경우, <code class=\"language-text\">TPM</code>(Tokens Per Minute, 분당 토큰 처리 수)과 <code class=\"language-text\">RPM</code>(Requests Per Minute, 분당 요청 수)을 통해 제한하고 있습니다.</p>\n<p><strong>2. Latency</strong><br>\n복잡한 Chain으로 구성된 경우, 사용자 요청마다 문서 검색과 여러 번의 LLM 요청으로 인해 응답 지연이 발생할 수 있습니다. 그리고 모델과 API 서비스 상황에 따라 응답 지연이 발생할 수 있습니다.</p>\n<p><strong>3. Cost</strong><br>\nLLM 요청 시, Input과 Output 토큰 수에 따라 비용이 발생합니다.<br>\n따라서 사용자가 많거나 여러 번 호출되는 경우, 비용이 크게 발생하지 않도록 최적화가 필요합니다.</p>\n<br>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 70.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAcCAIAAACcd2qBAAAFp0lEQVQYGa3BS49cVxmF4Xd9e59Tt66+uDtx4oSLQ+RImRBlhhBzhkwQfxvEDIEQkoOF7bbd3VWuyzn7W3Q5TUKCTEjE8+jpzYvVbv3e7DyzAbP5XBI/iKTrm9WL65sSMenrcrFYrdYlNJ/Ph2Ho+36z2Uwmk/V6fe/evfr3x4/X+3UudmlLmk2nvIX5b8TBerNZb7az6WQb8Xq12g1NuL++RoTiZrVazOfjOO52O/3md7/tJ5PalVrrzWo1trGUMgxjraVllghJmQlsNhvMHdvilrgl3pDQLVQijG+BEE6bgxKRtqBliodHLM4/OrlXo/zp5T/Yb1k/wyDeKuH9xcP9gj1/3V8zbLkjFEjYYL5mDsQd0fX14vTB+exIKMf2aHmxH4ZXZQ4Sb2fGEtOuKjjrjsjk+xBo0lXsy6tXLdO2bkFRSIB4GxMrP9EAFFAEb2ebf7GRQAhVvUGEbQkQ30lIqnw32wlNxAgdi0X3Wqao3Dg4ECAJxPdlMBhsbAw2ttNOt8bpWf/Zz852Z+X40fLRg+V9lQ9q3ZsKGB+A+CZzIDCIA2MOZG4ZEBYCh9KOZgdUZWBpXfn0bP5gOv3FO/pRnSKtz8a4bntcbboIdWKwi1QwsEtJnoaA0e7ENgWeRT8to8k0zfSaRFR0M2FZYpG63o1FykmclILZOJcZzx+vWuXyRZufTD5Q/2SzJqiJjyaTZV802JUoYaBLgachyUOqiywtUPb0UQZSXTRnoGwu1vHeEwpDm0e1HUNozKKI5ufRvtgMk1q6bOzaqXQTZVFKLbVspc3QgLbPoY0gvrQ3dwQGsbUN8+hdpsnZhCcbWrbMBCUWb4g0EoaAEGNm2kpd2kWKUO1VLpbHrSWw2++eX70E8XZOc9QxqjNHgRoaG21ECg5sjAWSggNzIA6Cg5h0tWW7fPVytdlgSwIkg/gPtoFZp+2LYcewgcfXnPTKtEHmlnGVZl2MZjdkgpAE5kBgA2nHrVJK6ACQBAJs0hgMBnNLtejjH88iJBEi4POPFxdn3ZgkbvaQHE/j4U/nnzycf3hUhsS42Q0PdtqJDIbwl8CQYGOwCTErpC0IsJ0YqLNiSJMmk7OTOpnEduS4i1nV+/Py4XHtO4UItE2EFjXmRfdnBbRLN5Om2iDZzIreXZQ/X40dJJz28d6y/uHp/v5RLCfxx+dDJ6ZVA+zSmEXVR8clapwvu/24fedenfblZBIfvT/7y/W+m8T+vPvlPLqqMQlxtqhPXw0ni3K5ar+/ytrseeXsuLzctHeWZbXPF9tsieDdk/poyL5o2unTs7qcRsJ0yF89nO2HvHmd946KzKzw658f1T4ujrvS8uisn+/ba3F0f7roFOu237Z189827YMH04D1poWpQ2tF3eliunMbKT+56MtVmxYkBncXx6UrambSe9rH9abdXOn+smv2fNYccfksr1Y6moUpL5+1J6/G82erIfXFaiiltJ60xp27EpeDn4+sboaaZVbR+eefdIoi0k4TAhQizWBXYZMQIKnZINsl1CoxamzZhUY70ZBZpGZ3UkBIzgzJOBRgScYhNVyntV4cndo5tvbs5YvBKcQbhj13Gt+QWKeTuEqG/SBAwj0CKneSg2YDyddCir7TxWePeqtls90yxf9bFxYKOa2Q00oUpSKcbpm2JfGDmW+z6YNlZdMoIiFEQgNTBQgB4gcyCAoHAoOEDXIndk3rhpDASBxMogJOc8t8k/kfGebF06ChwGmFbCSwtUoCJG6JAxuoBmODuWW+UoT4tknQh9MCGwVOCG7pamS0OTAH5sCAwObfCCp2N+nKLBDGQnylGYGRSCPh5tjaaUm2JdmW5HTU0iIl2Q5F2hHKdEjpjIjMLBGZljTgqgiQNhYYJO6kMXdEsUEGqSgsKW0JGUkpR4SzSbIdEWSWCDIjglREkHGLTIWU7Z9Wp26US2Xz+gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"llm-loadtest\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/2163UZDXaJTFiqHrM6gOuY/a448450e77bee8c49cde342f01b7a866/llm-loadtest.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/2163UZDXaJTFiqHrM6gOuY/a448450e77bee8c49cde342f01b7a866/llm-loadtest.png?w=188 188w,\nhttps://images.ctfassets.net/tushy4jlcik7/2163UZDXaJTFiqHrM6gOuY/a448450e77bee8c49cde342f01b7a866/llm-loadtest.png?w=375 375w,\nhttps://images.ctfassets.net/tushy4jlcik7/2163UZDXaJTFiqHrM6gOuY/a448450e77bee8c49cde342f01b7a866/llm-loadtest.png?w=750 750w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위 부하테스트 결과와 같이 일부 모델에서는 사용자 요청이 증가함에 따라 <code class=\"language-text\">Timeout</code>, <code class=\"language-text\">RateLimit</code> 오류도 발생할 수 있습니다.\n이러한 문제들은 사용자 경험과 서비스 성능에 직접적인 영향을 미칠 수 있습니다.<br>\n따라서 이를 개선하기 위한 3가지 방법에 대해 알아보겠습니다.</p>\n<p><br><br></p>\n<h2 id=\"region-load-balancing\" style=\"position:relative;\"><a href=\"#region-load-balancing\" aria-label=\"region load balancing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Region Load Balancing</h2>\n<p>API 제공자의 정책으로 인해 사용 중인 리전 내에서 Rate Limit을 늘리기는 어렵습니다.\n이에 대한 대안으로 리전 로드밸런싱을 적용할 수 있습니다.\n리전 로드밸런싱은 <strong>여러 리전의 API 리소스를 생성하여 트래픽을 분산하는 방법</strong>입니다.\n이 방식을 통해 서비스의 지연 시간을 줄이고, 가용성을 높이며, 장애가 발생할 경우에도 다른 리전으로 요청을 전환(failover)할 수 있습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 65.86666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAAAAADgJ0EXAAABUklEQVQ4y43T3W7jIBAF4L7/Q3WfoVWiqop2pVZ24hgDA/6BGX5OL3rTbGPacwf6NIKRzgPuhD8jX+8e7rjZxxBCiIZbUMcwFr2lmgvbs9FlB8bRnV7WP8+H46Hjqb++8Q70AlBaUykVYWUJexNNBIKxShtDrjTeqAKApIZJXRa0fj0G3M/difswiYikAmAKAJIws6T0Da529n5eVAGIgY0Wsm5elfwPfUWsGdtaYbpVTHFcUWuceq3yV+jAXa+wnbX5e55eX7fHp8Px0IVzp/8tNzCjVmARYEnAnL2knBE8Z76ZKI4see8BeAbEkrZEdsyN9RADyHoYdadya48Uf7nwX0PHAErJOaVcW9ALEPy2eKKZUgsOqbiyJACIeiTag3K1p9P2+HR8OXY89Ne33CiXyyawSIk+xLU24DbO1hJ5k36oK3h47y/vlx97/Zlye/wAnSr62yD4Bl8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"llm-lb-client\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/7oVeIxl8vFfkRgsYa2YGMA/dc991b4e2e38aa2bc550ea2958991ef6/llm-lb-client.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/7oVeIxl8vFfkRgsYa2YGMA/dc991b4e2e38aa2bc550ea2958991ef6/llm-lb-client.png?w=188 188w,\nhttps://images.ctfassets.net/tushy4jlcik7/7oVeIxl8vFfkRgsYa2YGMA/dc991b4e2e38aa2bc550ea2958991ef6/llm-lb-client.png?w=375 375w,\nhttps://images.ctfassets.net/tushy4jlcik7/7oVeIxl8vFfkRgsYa2YGMA/dc991b4e2e38aa2bc550ea2958991ef6/llm-lb-client.png?w=750 750w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위 예시는 클라이언트 측에서 리전 로드밸런싱을 적용했을 때의 그림입니다.\n사용자의 요청은 라운드 로빈(Round-Robin) 방식을 통해 분산됩니다.\n리전마다 토큰 제한이 다른 경우를 고려하여 <strong>TPM에 비례한 가중치를 부여</strong>합니다.</p>\n<p>이 방식은 클라이언트 측에서 구현하여 쉽게 적용가능하다는 장점이 있습니다.\n반면에 클라이언트에서 리전과 모델 정보를 관리해야 한다는 단점이 있습니다.\n모델과 리전의 수가 증가할 수록 API 키 관리가 복잡해지며 리전 정보가 추가되거나 변경될 때마다 클라이언트의 재시작 또는 업데이트가 필요합니다.\n또한 여러 클라이언트 사이에서 일관성 유지가 어렵습니다.</p>\n<p><br><br></p>\n<h2 id=\"ai-gateway\" style=\"position:relative;\"><a href=\"#ai-gateway\" aria-label=\"ai gateway permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AI Gateway</h2>\n<p>앞서 살펴본 내용과 같이 LLM 기반의 모델과 서비스가 증가함에 따라 클라이언트 방식은 어려움을 마주치게 됩니다. 이를 개선하기 위한 게이트웨이 방식에 대해 알아보겠습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAXCAAAAABcuVLJAAABiUlEQVQoz42TW27bQAxFvf+NBd1AgbRu4CCxZEnWPDlvcthRhCqKk7rll4Q5IC8vyQP/Zxz++mK0VUJrv4FkrbHO3XJZJUdMJGbjV9CHlAvaVD/me7qcH44/jla8dpcVdPnaSwBpNe3BCikgEpmc8woGT0jVFPbxnauGi+iGcdBl01gBwC0aXdiBqqkED5a+6Br2oPzCHsJSkFaQcAniKpgRSy67jMl6a6B10jRmFbz3ASIrbp4ZpbcyzZ6sNRgf0Jo8pZhiQTRxBhlkKonm8xz+2ON0S2P9PIrHIORlnNwsupeh+/br5xNcT6JPb2C2odVrpUPm5BdhOXrW7FJcfkwTvDXzpp+bMg4tnAsVJ8b5peueJd23B9vYqJScdvYQSKHhxvAyfPbRp5Qz2sx2N0IcmWJsOrZdOTCUqRfRz0ruloIku5haRLvLiG0wtnyspIZRnZRReermfhJ10dg2wsHt4qIYp+/9uY/X49CN5d4pOA9tim22tda7N8Pq9fl8utZ/Hte6btvXb9ejglEf4STEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"llm-lb-gateway\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/3vwyA0hE0zloa473s1OUzp/39fcb9aec681bc91018afce45e8112c2/llm-lb-gateway.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/3vwyA0hE0zloa473s1OUzp/39fcb9aec681bc91018afce45e8112c2/llm-lb-gateway.png?w=188 188w,\nhttps://images.ctfassets.net/tushy4jlcik7/3vwyA0hE0zloa473s1OUzp/39fcb9aec681bc91018afce45e8112c2/llm-lb-gateway.png?w=375 375w,\nhttps://images.ctfassets.net/tushy4jlcik7/3vwyA0hE0zloa473s1OUzp/39fcb9aec681bc91018afce45e8112c2/llm-lb-gateway.png?w=750 750w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>게이트웨이 아키텍처는 클라이언트가 모든 요청을 중앙 로드밸런싱 게이트웨이로 보내고, 게이트웨이가 요청을 적절한 리전으로 라우팅하는 방식입니다. 클라이언트는 리전과 모델 정보를 직접 관리하지 않고, 게이트웨이가 로드밸런싱 역할을 수행합니다.</p>\n<p>이 방식은 항상 게이트웨이를 거쳐야한다는 단점이 있습니다. 이는 추가적인 네트워크 통신을 필요로 하며 대량의 트래픽을 처리할 때 게이트웨이의 성능이 전체 시스템의 성능에 영향을 줄 수 있는 단일 장애 지점(Single Point of Failure)이 될 수 있습니다.</p>\n<p>반면에 장점은 다음과 같습니다.</p>\n<ul>\n<li><strong>단순화된 클라이언트 로직</strong>: 클라이언트는 모든 요청을 중앙 게이트웨이에 보냅니다. 따라서 클라이언트 측에서는 로드밸런싱이나 서버 상태를 신경 쓸 필요 없이, 게이트웨이에서 알아서 처리합니다. 이를 통해 클라이언트 코드의 복잡성을 크게 줄일 수 있습니다.</li>\n<li><strong>중앙 집중식 관리</strong>: 모든 로드밸런싱 로직이 게이트웨이에서 이루어지므로, 정책이나 설정 변경 시 한 곳에서 이를 제어할 수 있습니다. API 키가 추가되거나 제거되는 상황에서도 클라이언트 코드를 수정할 필요 없이 게이트웨이만 업데이트하면 반영할 수 있습니다.</li>\n<li><strong>확장성</strong>: 게이트웨이가 여러 리전의 상태와 성능을 중앙에서 모니터링하고 로드밸런싱을 수행하므로, 대상이 수십 개에 달하더라도 일관된 방식으로 관리할 수 있습니다. Fallback, Retry와 같은 전략도 함께 반영할 수 있습니다.</li>\n<li><strong>보안</strong>: 클라이언트가 직접 API 정보에 접근하지 않기 때문에, 게이트웨이가 보안 계층의 역할을 수행할 수 있습니다. API 키 관리, 인증 및 권한 부여, 트래픽 필터링 등의 보안 조치를 게이트웨이 레벨에서 쉽게 구현할 수 있습니다.</li>\n</ul>\n<br>\n<p>AI Gateway를 적용하기 위해 많이 사용하는 오픈소스로는 <a href=\"https://github.com/Portkey-AI/gateway\">Portkey AI Gateway</a>와 <a href=\"https://github.com/BerriAI/litellm\">LiteLLM Proxy</a>가 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"semantic-cache\" style=\"position:relative;\"><a href=\"#semantic-cache\" aria-label=\"semantic cache permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Semantic Cache</h2>\n<p>마지막으로 지연 시간 최적화를 위한 캐싱 전략에 대해 알아보겠습니다.\n기존에 사용하던 Exact Cache는 주어진 질문이 정확히 일치하는 경우에 캐시를 적용하는 방식입니다. 이 방식은 다양한 질문이 들어오는 자연어 질의에서 효과를 보기 어렵습니다.</p>\n<ul>\n<li>어제 비비큐 주문 수 알려줘</li>\n<li>어제 BBQ치킨 주문 수 알려줄래?</li>\n</ul>\n<p>위의 두 질문은 서로 다른 형태지만, 의미는 동일합니다. Semantic Cache는 단순히 특정 입력에 대해 해당 출력을 캐싱하는 것이 아니라, <strong>입력 질의의 유사도를 기반으로 캐싱된 결과를 재사용</strong>할 수 있습니다.</p>\n<br>\n<p>Semantic Cache를 통해 얻을 수 있는 장점은 다음과 같습니다.</p>\n<ul>\n<li><strong>비용 최적화</strong>: LLM의 응답을 생성하기 위한 연산은 상당한 자원과 시간이 소모됩니다. 매번 동일하거나 유사한 질의에 대해 중복해서 모델을 호출하면 자원 낭비와 전체적인 성능 저하가 발생할 수 있습니다.</li>\n<li><strong>지연 시간 개선</strong>: LLM은 복잡한 추론 과정을 통해 응답을 생성하므로, 요청당 지연 시간이 길어질 수 있습니다. 한 번 생성한 결과를 유사한 요청에 재사용하여 지연 시간을 개선할 수 있습니다.</li>\n<li><strong>일관된 응답 품질</strong>: 많은 사용자가 비슷한 질문을 여러 번 하거나, 튜토리얼과 같이 동일한 질문이 여러 세션에서 반복적으로 나타나는 경우가 많습니다. 하지만 LLM의 응답 결과는 불확실하기 때문에 사용자마다 다른 경험을 가질 수 있습니다. 캐시를 사용한다면 일관된 응답을 통해 성능을 개선할 수 있습니다.</li>\n</ul>\n<br>\n<p><strong>Semantic Cache의 구조</strong></p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 60.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/wAALCAAYACgBAREA/8QAGAAAAwEBAAAAAAAAAAAAAAAAAgMEBQn/xAAnEAACAgIBAgYCAwAAAAAAAAABAgMRABIEITEUMkFRYXETIpHR4f/aAAgBAQAAPwDqJyuZyYzKqcU6qvSXYV91ho9Qh5leE9iGl/3J+Ly5uTyXTwzrAO0wm2DfxlvZlB2GxoHfCsRzKmxtgaBPtWFL0jf6OKmG4kBd1AI8te2ZsZRZQfycgWxNaEA/F1WUEuZAEhPITXrJKdWTv6EY/afxiAqgTU3RJ9R8ZRKpeJ1HcggXiXWcbsgSz1AJPesXrIryOiW2gCk9LPsenTHmMsbKL2rzn+sLQtKGZV/UEA3Zz//Z'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"llm-cache\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/2n9A0g1R16KiDooF9AkT7N/a0283b0652c72a02b6499dac4f44900a/llm-cache.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/2n9A0g1R16KiDooF9AkT7N/a0283b0652c72a02b6499dac4f44900a/llm-cache.png?w=188 188w,\nhttps://images.ctfassets.net/tushy4jlcik7/2n9A0g1R16KiDooF9AkT7N/a0283b0652c72a02b6499dac4f44900a/llm-cache.png?w=375 375w,\nhttps://images.ctfassets.net/tushy4jlcik7/2n9A0g1R16KiDooF9AkT7N/a0283b0652c72a02b6499dac4f44900a/llm-cache.png?w=750 750w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위 그림은 <a href=\"https://github.com/zilliztech/GPTCache\">GPTCache</a>의 컴포넌트 아키텍처입니다. 각 컴포넌트는 다음과 같은 역할을 수행합니다.</p>\n<ul>\n<li><strong>Cache Storage</strong>: 캐싱을 위해 필요한 QA 데이터와 세션 정보를 저장합니다.</li>\n<li><strong>Vector Store</strong>: 유사도 검색에 활용하는 벡터 저장소입니다. 다양한 스토리지 연동이 가능합니다.</li>\n<li><strong>Cache Manager</strong>: Eviction 전략, Cache 데이터 보관 등 정책을 정의하고 설정할 수 있습니다.</li>\n<li><strong>Evaluator</strong>: 유사도 측정 기준을 결정합니다. 다양한 알고리즘을 적용할 수 있습니다.</li>\n</ul>\n<p>Cache Hit 상황에서는 캐싱된 응답을 바로 전달합니다.\n반면에 Cache Miss 상황에서는 기존과 동일하게 LLM을 통해 응답을 생성하고 캐시 데이터를 저장합니다. 실제 서비스에 적용 시 일부 질의에서는 약 70%의 지연 시간 단축 효과가 있었습니다.</p>\n<p><br><br></p>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며</h2>\n<p>이번 글에서는 RAG 어플리케이션의 프로덕션 환경 운영 시 성능에 관한 여러 고려사항들을 살펴보았습니다. 그리고 토큰 제한, 지연 시간, 비용 관리 등의 문제를 개선하기 위한 3가지 방법에 대해 정리해보았습니다. 이 외에도 모델 파라메터나 프롬프트 토큰 최적화를 통한 방법이 있으니 공식 가이드를 읽어보시는 것을 추천드립니다.</p>\n<ul>\n<li><a href=\"https://platform.openai.com/docs/guides/latency-optimization\">OpenAI Guide Latency Optimization</a></li>\n<li><a href=\"https://docs.anthropic.com/en/docs/test-and-evaluate/strengthen-guardrails/reduce-latency\">Anthropic Reducing latency</a></li>\n</ul>\n<p><br><br></p>","excerpt":"최근 다양한 영역에서 LLM 기반 서비스 개발 사례가 늘어나고 있습니다.\n그 중에서도 검색 결과를 바탕으로 자연어를 생성하는 RAG…"}}}},{"node":{"title":"데이터 파이프라인의 Write-Audit-Publish 패턴","id":"8bdcb928-0c50-5646-879e-d040ca97a172","slug":"write-audit-publish","publishDate":"March 31, 2024","heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":3,"html":"<p>Write-Audit-Publish (WAP) 패턴이란, 데이터 엔지니어링 영역에서 데이터 품질과 안정성을 보장하기 위해 ETL에서 사용되는 설계 패턴입니다. 이번 글에서는 WAP 패턴을 알아보고 이를 통해 얻을 수 있는 장점에 대해 알아보겠습니다.</p>\n<br>\n<h2 id=\"write-audit-publish-패턴\" style=\"position:relative;\"><a href=\"#write-audit-publish-%ED%8C%A8%ED%84%B4\" aria-label=\"write audit publish 패턴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Write-Audit-Publish 패턴</h2>\n<p>오늘날 데이터 환경에는 데이터 생산자와 데이터 사용자가 존재합니다. 일부 데이터 생산자는 데이터 사용자에게 신뢰할 수 있는 데이터를 제공하기 위해 데이터 품질을 적용하고 있지만 이를 전체로 확산하는 것은 어렵습니다. 이러한 문제를 해결하기 위해 <code class=\"language-text\">WAP 패턴</code>은 데이터 사용자가 항상 신뢰할 수 있는 데이터에 접근하도록 보장합니다.\n<br></p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 35.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAOCAMAAABq1a50AAABjFBMVEX////39/Xw693p5NTu6Njs5tfp5Nfx7Nz18OP39fD479bv58zr5M7j3Mnt5tD17NH38N7+/v739vP07tv28Nvt6Nfo49L28N7y7eD+/v/+/v3///74+Pf//v719fXq7Pj9/v/p6/Xk5vP8/P/29/3p6/jm6Pf6+v7//fz7+/v39/f5+fn4+Pj6+vr09fby8/X29vf9/f35+fv4+Pv29fb08/b39vf09/zb5/fy8PXy2Nr5+fjd3t7h4eHu7u7t5u3gztrj0tr07/H8/Pz18/fYyNrh0Nrt5uvz8/Pv6/HTw9Xezdfs5enx8fH7+/3H3u+u3fDb4Ovv7+/09PTy8vLH0OyXudu4097r8fTl6feAqNm21uHZ5uzs7Ozd4/SFrdu52ePd6e729vbh6+fN583x8/fd5PS70uTN4ebz9/n9/f7z9fu/z+PO3+To7/L9/Pz29vXw8/rB0OPQ4OXs8fT39vXq6ejq6eny8fD6+fn39/bt7Ov19fTt7ezm5ubj4+Pe3t3o6Ojp6On7+/rTyBF1AAABHElEQVQYGY3BBVMCQRgG4NduZW3Cxdbbu1M/u1HXOAMDz27sxgAbjD8uDI7jODrwPPhLQmJSckpqWjpiycjMys7JzbMwxJBfUFhUXGIptSIWm93hACtDHDjH/6xOZzm+VFRWIaq6prYOUfWKUDWmq46GxiZNB0BEzS1EBEAVorWtXXCgo7Oru6e3r1/hNtfA4BBxBkj78MjoGCQAQ45PTE6RmzA9MzunGh5t3sTC4tIyTLfgBlZW19YhDcPcwObW9g68BOzu7SOMNBwcHh2D6yek4/Ts/AKXiiQfrq5vbiEYADsimCn8gTufMBkgpc1//0A6A7za41PgWTcYvpF8CYaCOkMYQwRDmOc19BZ8l/hJUb0afmPKh5QS8fsEVMg1EU+mD+MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"wap-arch\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/YnWBeX1cL5dlGsbEicb7i/1da940c762abfbf193c893d58093d05a/wap1.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/YnWBeX1cL5dlGsbEicb7i/1da940c762abfbf193c893d58093d05a/wap1.png?w=175 175w,\nhttps://images.ctfassets.net/tushy4jlcik7/YnWBeX1cL5dlGsbEicb7i/1da940c762abfbf193c893d58093d05a/wap1.png?w=350 350w,\nhttps://images.ctfassets.net/tushy4jlcik7/YnWBeX1cL5dlGsbEicb7i/1da940c762abfbf193c893d58093d05a/wap1.png?w=700 700w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>WAP 패턴은 다음과 같이 3단계로 구성되어 있습니다.</p>\n<ul>\n<li><strong>Write</strong>: 데이터 소스로부터 처리한 데이터를 데이터 사용자가 접근할 수 없는 영역에 저장합니다. 임시 또는 스테이지 영역이 될 수 있습니다.</li>\n<li><strong>Audit</strong>: 새로 생성된 데이터에 대해 품질 테스트를 수행하여 데이터를 검증합니다. 이 단계에서 NULL 값, 중복 데이터 식별, 참조 무결성 테스트 실행 등과 같은 부분을 확인합니다.</li>\n<li><strong>Publish</strong>: 프로덕션 테이블에서 데이터를 사용할 수 있도록 배포합니다. Publish 단계는 테이블 사용자가 모든 변경 사항을 볼 수 있거나 전혀 볼 수 없도록 Atomic하게 이루어져야 합니다. 테이블 포멧을 통해 스냅샷을 만들고 병합하는 방식으로 이를 구현할 수 있습니다.</li>\n</ul>\n<p><br><br></p>\n<h2 id=\"write-audit-publish-패턴의-장점\" style=\"position:relative;\"><a href=\"#write-audit-publish-%ED%8C%A8%ED%84%B4%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"write audit publish 패턴의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Write-Audit-Publish 패턴의 장점</h2>\n<p>Write-Audit-Publish 패턴을 통해 얻을 수 있는 장점은 다음과 같습니다.\n<br></p>\n<p><strong>데이터 무결성과 품질을 보장</strong><br>\nWAP 패턴은 Audit 단계를 통해 데이터의 정확성, 품질, 표준화 준수 여부를 확인하여 불일치나 예외 사항을 모두 수정합니다. 이러한 검증 과정을 통해 신뢰할 수 있는 데이터 원본만 프로덕션에 게시되도록 보장합니다.</p>\n<br>\n<p><strong>파이프라인의 신뢰성, 안정성 강화</strong><br>\nWrite, Audit, Publish 단계를 분리하면 오류 대응과 롤백 프로세스가 가능하다는 장점이 있습니다. 일반적인 소프트웨어 엔지니어링의 <code class=\"language-text\">Blue-Green 배포</code>는 언제든지 되돌릴 수 있으며 모든 트래픽을 새로운 버전으로 라우팅하는 구조를 가지고 있습니다. WAP 패턴도 Blue-Green 배포와 유사한 구조를 가지고 있어 데이터 파이프라인의 전반적인 신뢰성과 안정성이 강화됩니다.</p>\n<p><strong>데이터 보안 강화</strong><br>\n여러 단계를 통해 구조화된 패턴은 원천 데이터와 감사된 데이터를 분리하여 민감하고 검증되지 않은 정보를 조기 노출로부터 보호하는 보안 계층을 제공합니다. 이를 통해 데이터 보안을 유지하는데 도움을 줄 수 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"wap-with-apache-iceberg\" style=\"position:relative;\"><a href=\"#wap-with-apache-iceberg\" aria-label=\"wap with apache iceberg permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WAP with Apache Iceberg</h2>\n<p>Apache Iceberg 테이블 포멧에서는 공식적으로 WAP 패턴을 구현하는 데 필요한 <a href=\"https://iceberg.apache.org/docs/latest/branching/\">Branching 기능</a>을 지원하고 있습니다. Branching 기능을 통해 Git의 Branch와 같이 분기를 통해 데이터 테스트 환경과 운영 환경을 격리할 수 있습니다. Iceberg에서 Branch는 테이블의 특정 시점을 가리키는 스냅샷과 동일하며 Branch에 데이터 쓰기를 수행할 수 있습니다. WAP 패턴에 적용하는 경우, 작업 절차는 다음과 같습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 93.71428571428571%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAlCAMAAAAHvluBAAACr1BMVEX////s8f/k7P/w9v/x9//z+f/9/v7///7+/v7a4//H1v/r8v/f6v/m8f/q7O3f397g4ODs7Ozt7e3q6url5eXj4+Pi4uLc4//W4P/Q3f+80f/M3v/7/P79/fz8/Pzy8vLr6+v9/f37+/vS2v+nuv+ZtP+owv/J2v/8/f/6+vrv7+/4+Pjz9v/R2vrq7//z8u////319fX09PTx8fHf39/h4eHp6Ofj4+L19fT39/f29vb29fX19PPy8vPd6vHn7vP39/bw8PD7+/34+P33+Pz5+v3t5O3WuM/kx9LPvtJzrtmkwN/3+Pvo6vfi5PXj5fX5+f3u7u/z8/PJ0u52pNu+3OS52eO70OPo7PXv7+7n5+fK1O97q9y+3ua83eXs8vTz9PT8/f3y8/Pu7u729/zW3Obd4+Te5Ob6+/zh1dXVu7vo6Oju7ezq6enr6url3Nzj0NDp6en4+fjr7+fp7eTs8Ojn7OLr7+jy9fD29/3u7/ny8/r+///6/Pn5+/f19/T5+vf6/Pj9/vz79PPx6Obr7fXt7/nq7Pj8/P719fbk5OTU1dXXzMvy5eP29/b4+Pf+/f7w9O3r8OXl7N/t8ujo7+Pt8unm5ubc3Nzd3d35+fn19vbr8OTq8OXo7uPm7eDp7+Tr8Obr7Ov7+/rz8/L5+fjy9vjl7/T29/j9/v38+vvdxtnlytbmy9asu9lyr9rk6vTw7/D09fpzlNm10OC/2eKxzN3A0OX4+vz+/f308/Nqm9602ee94OjR5ev+/v/X3evZ4eXa4eTr7/Hw8ffl5/bf4vT3+P37+vnx8PDw7+/5+Pj4+Pn4+f3Y2Njm5uXk4+Pe3d7+/v36+vnv7u3z9v7v8vv3+f+wyf+mw//19//s6+vu8v+ev/+Wuv/q8P/7+vrx9f+TuP+Ls//r8f+fJf5FAAACT0lEQVQYGZXBBXMTQQAG0A9rFo81aPeyiyaH3SaB3tFCgzslePEGL+7uWtxpoLg7xbW4u7v/EK5hmDB0joT3kF+BgoUKF4kzEURTtFjxEiVLlTZbrDZ7vCPeCiNlypYrX6FiAiWS2ckYZzBSqXKVqtWqA3C5ZfxTjZq1EJvadRAbhSE2MmJArFZJSB4PRxTc7vXZnXXrJRL8jRDCdAR5VEmrn5SU3KBhir9R4yZN8QePEJLH75EkP3QaR7PmLVq2ao2UNm3btU9FRAceEK6AqhIJOoWjY6fOXbp2Q/e0RE1TEWHlTptwWpxUgU5w9OjZq3cfIKAwRvv2S+eMIyzISR5QCTrB0X/AwEGDAZkBGDI03mz2WgQBoHgkKTmYIRQFOi2gJA4bPkJRVTcFMHKUf7TN7bQx/CYLhBE6Zuy48RMmTqIcunTkw0Xc5ClTpwGYPmPmrNlzEOZHfnPnzV+wcBHyLCYgCLM6be60TA0RliVLly1fgV+UlVi1es3adetZkG7YmCUoIkLpmwg0gTALxebsLVu3ZW/fAUIZ8gtJITXk2rlr9569+2QO7A/CAPcKHDh46PCRo8fAARyHEVcIOSdOnjp95uy58yFZc8MI48i5cPHSZSBBUjWVwwjjyL1y9dp1gNy4ees2DDGVsjt3791nzPXgYWoujDH50eMnVrPXQ02IIs2c5fA9TUZUhKsa5QQxeKYiNs9fIDYvX8FECAh0FMZev3n77n2WQ3IELVKmj8DQh4+fPpu+ZNh9dnumxmDs67fvPwBVaLIIEPyvn8FkkGw9h1RSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"wap-branch\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/7MtxVsTkElzigm41aSiAdo/4441addddcf75d808af107e1164ee7c2/wap-iceberg.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/7MtxVsTkElzigm41aSiAdo/4441addddcf75d808af107e1164ee7c2/wap-iceberg.png?w=175 175w,\nhttps://images.ctfassets.net/tushy4jlcik7/7MtxVsTkElzigm41aSiAdo/4441addddcf75d808af107e1164ee7c2/wap-iceberg.png?w=350 350w,\nhttps://images.ctfassets.net/tushy4jlcik7/7MtxVsTkElzigm41aSiAdo/4441addddcf75d808af107e1164ee7c2/wap-iceberg.png?w=700 700w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p><strong>Write</strong>:<br>\n기존 Iceberg 테이블에서 새로운 작업 Branch를 생성하고 새로 작성된 ETL 변경 사항을 Branch에 반영합니다. 예시에서는 <code class=\"language-text\">feature-0305</code> 라는 이름의 Branch를 사용하겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> db<span class=\"token punctuation\">.</span><span class=\"token keyword\">table</span> <span class=\"token keyword\">SET</span> TBLPROPERTIES <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'write.wap.enabled'</span><span class=\"token operator\">=</span><span class=\"token string\">'true'</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> db<span class=\"token punctuation\">.</span><span class=\"token keyword\">table</span> <span class=\"token keyword\">CREATE</span> BRANCH feature<span class=\"token operator\">-</span><span class=\"token number\">0305</span> RETAIN <span class=\"token number\">7</span> DAYS<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SET</span> spark<span class=\"token punctuation\">.</span>wap<span class=\"token punctuation\">.</span>branch <span class=\"token operator\">=</span> feature<span class=\"token operator\">-</span><span class=\"token number\">0305</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> db<span class=\"token punctuation\">.</span><span class=\"token keyword\">table</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p><strong>Audit</strong>:<br>\nBranch에서 필요한 품질 테스트를 수행합니다.<br>\n이 단계에서는 <code class=\"language-text\">Great Expectations</code>와 같은 Data Quality 도구를 활용할 수 있습니다.</p>\n<br>\n<p><strong>Publish</strong>:<br>\n프로덕션 테이블에 새로운 데이터를 배포합니다. 반영이 완료되고 안정성이 확인되면 작업 Branch는 삭제합니다. Publish 작업은 기본적으로 원본 데이터를 변경하거나 제거하지 않고 기존 스냅샷에서 새 스냅샷을 생성하는 Iceberg의 <a href=\"https://iceberg.apache.org/docs/latest/spark-procedures/#cherrypick_snapshot\">cherry-pick procedure</a>에 의해 실행됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CALL</span> catalog_name<span class=\"token punctuation\">.</span>system<span class=\"token punctuation\">.</span>cherrypick_snapshot<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'db.table'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'main'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'feature-0305'</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> db<span class=\"token punctuation\">.</span><span class=\"token keyword\">table</span> <span class=\"token keyword\">DROP</span> BRANCH feature<span class=\"token operator\">-</span><span class=\"token number\">0305</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>만약 Iceberg 1.2 이전 버전을 사용한다면 <code class=\"language-text\">WAP.id</code> property를 사용해야합니다.</p>\n<p><br><br></p>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p>Write-Audit-Publish 패턴을 통해 대규모 데이터를 처리할 때 프로덕션 워크로드에 영향을 주지 않고 격리된 품질 테스트 및 검증을 수행할 수 있습니다. 데이터 품질 커버리지를 확대하고자 할 때 WAP 패턴을 고려해보시면 좋을 것 같습니다. 그리고 Iceberg와 같은 테이블 포멧을 사용한다면 더 나은 개발 경험을 제공할 수 있습니다.</p>\n<ul>\n<li><a href=\"https://lakefs.io/blog/data-engineering-patterns-write-audit-publish/\">lakefs - Data Engineering Patterns: WAP</a></li>\n<li><a href=\"https://www.dremio.com/blog/streamlining-data-quality-in-apache-iceberg-with-write-audit-publish-branching/\">Dremio - Iceberg with WAP</a></li>\n<li><a href=\"https://dagster.io/blog/python-write-audit-publish\">Dagster - Write-Audit-Publish in data pipelines</a></li>\n</ul>","excerpt":"Write-Audit-Publish (WAP) 패턴이란, 데이터 엔지니어링 영역에서 데이터 품질과 안정성을 보장하기 위해 ETL…"}}}},{"node":{"title":"AI를 통해 변화하는 데이터플랫폼 근황","id":"3bc2c838-2281-5852-899f-ba16e366f41b","slug":"llm-dataplatform","publishDate":"January 21, 2024","heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":4,"html":"<p>생성형 AI의 공개 이후 다양한 영역에서 활용하는 사례가 늘어나고 있습니다.<br>\n오늘은 데이터플랫폼 영역에서 AI를 통해 어떤 변화가 나타나고 있는지 정리해보려 합니다.</p>\n<br>\n<h2 id=\"자연어를-sql로-변환-text2sql-sql2text\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EC%97%B0%EC%96%B4%EB%A5%BC-sql%EB%A1%9C-%EB%B3%80%ED%99%98-text2sql-sql2text\" aria-label=\"자연어를 sql로 변환 text2sql sql2text permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자연어를 SQL로 변환 (Text2SQL, SQL2Text)</h2>\n<p>지난 수 년간 클라우드 마이그레이션이 늘어남에 따라 <code class=\"language-text\">Databrics</code>, <code class=\"language-text\">Snowflake</code>와 같은 Managed DW 서비스도 함께 성장해왔습니다. Managed DW 서비스가 23년 Summit에 내세운 키워드는 생성형 AI 였습니다. 다양한 기능을 공개했지만 핵심은 <strong>Text2SQL, SQL2Text</strong> 기술이라고 볼 수 있습니다.</p>\n<p><code class=\"language-text\">Text2SQL</code>이란 <strong>주어진 자연어로부터 쿼리문을 생성</strong>하는 것을 말합니다.<br>\n쉽게 말해 사용자가 AI에게 한글로 질문하면 필요한 쿼리를 만들어주는 기능입니다.\n데이터플랫폼에서는 그 동안 쿼리 사용에 어려움을 겪는 비개발자도 쉽게 사용할 수 있도록 다양한 데이터 분석 도구들을 만들어왔습니다. 하지만 이제 UI가 아닌 \"자연어\" 라는 인터페이스를 통해 쉽게 탐색할 수 있게 되었습니다. <code class=\"language-text\">Text2SQL</code> 기술을 플랫폼에 적용하는 방식은 크게 두 가지로 볼 수 있습니다.</p>\n<br>\n<p><strong>검색 UI 연동</strong></p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 56.21052631578948%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAWCAMAAACFUC6CAAACjlBMVEUAGRdITk9QV1ooOD4+S1FBT1VCUFZIU1hEUFZCT1RBTlRCT1UrPkUfNj4gNz8gNj85R04fNDwAAAAACBwAAAoAAA8AESEAABkAAAUASHaPmaXb3NzT2NnS19rX2tzd39/g4ODg4eHf4OHf4ODg4OHf39/e39/d3d7Z1tfX1dba2Njc2tvb2trb2Nnb2dnb2Njc29oAFUyjqa/8/f7b4+7S3OrU3uvf5vD8/P3////+/v7+//79/f39/v7+///6/P3+/f708vPt7e35+fn89/j89PX99/j79PX8+Pn//fygoqL19/m1xtynvNasv9jAzeD09fb4+Pj29/f39/j29vb8/Pz9/f72+Pjz9PX19fXx8vP09PX7/Pz5+vr3+Pj4+frv8/b4+Pn9/Pz6+/z8+/qipKXj7fTr8ff09ff49/b39/f8+/z19vbu8PHw8fLv8PHu7/Dv8PLt7/CipaXe6fLj6u/z8/P09PT//v/8+/v9+/z8+vmhpKTm7vXo7PLt7vHx8fP19Pf38fT49Pf6+v76+f35+f35+Pnw7PDu7u7s7e2jpaf//v7+/v/09fX19fajpqf8+vv47u7w8PD+/f36+fihpKX///759fXu7+/v8PDy8vPy8/Pv7/Dw8PHv7+/6+vr6+vv7+vn6+frp7PDy8/Xz9Pbr7fDu7/Lt7/H6+Pj7+vrx8/bz8/b19vf19ff09Pb1+Pr4+vvq6fLo5+vv7+76+fnp7/Ll6+7q7e7t8PDw8/T1+Pnk5O7f3uPr6urs6+zt6+vx7+6ho6T09vfx8/T3+fr5+/v5+fr39PT49fWgo6T9+/v8/f37+/z2+Pr2+frz9vny8vL28/T18/P39fX39vb49vb29fX59/ZzQVoPAAABuElEQVQYGXXBPWtTcRjG4d998k/SJCSBgKbxFWxBEAoSB0sHFdHJgNADKoJOQv0E4qK4CY6aDp2USAfBWAI6CIIoTjq4FKodCkKR4JBCoFUSex5PklbzgtclNIIB6mqpoB2AZN62IqLDAqcuJAucG9cuMDwFZtHfgJw6tkgptJVSblqDWnF1tJp7pNUCcULxlWOO/ctTCn1mWKP487i6IMCRIaN2jFOrdU7zjj6Z7AfbBjxQ3pEgoaSkogQl/pF0QdZYS68QcmR547/cux5r+VUG+GsHNvJ1zXyUAcrdfcZ/XJHW3yOuLkbyZx0xdnhGn2sV6oc1ManQ3KuSHH8F9KtAMyUJMM+XHD1ihMuMKfSa+qXEk/MOuK0HgYlh7eb3I9KyV/rRavlNB9GY7khixCJJ6eS0NuEXjqmn6UeXyUsMm6sd2vhSmNEmIeVqt2QgY0Qx+5YOgd/wGMMAi4hhGXrM7DkenwAfboAGALPAdUnAUY+OKiwYfWbN6KmYGSHHLtFHdLwAolyk1uarB5TLZYuIftXI/ESZ9M3J8niwtBQcnN/nAA8tfLvPgLg78zhd0gndA/Qwee4PjB18xRXl9acAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"databricks1\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/6vDGb4gWjJhAPwajyLYBYL/2cdde75af50010bbcb0d92f7a425ea80/databricks1.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/6vDGb4gWjJhAPwajyLYBYL/2cdde75af50010bbcb0d92f7a425ea80/databricks1.png?w=238 238w,\nhttps://images.ctfassets.net/tushy4jlcik7/6vDGb4gWjJhAPwajyLYBYL/2cdde75af50010bbcb0d92f7a425ea80/databricks1.png?w=475 475w,\nhttps://images.ctfassets.net/tushy4jlcik7/6vDGb4gWjJhAPwajyLYBYL/2cdde75af50010bbcb0d92f7a425ea80/databricks1.png?w=950 950w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>그 중 첫 번째는 <strong>검색 UI를 연동</strong>하는 방식입니다.<br>\n사이드에 어시스턴트를 추가함으로써 ChatGPT 서비스와 유사한 환경을 제공합니다.\n검색 UI는 쿼리문을 입력하는 쿼리 에디터 뿐만 아니라 노트북, 카탈로그 등 다양한 기능에 연결되어 있습니다.</p>\n<br>\n<p><strong>SQL 함수, 자연어 SDK 추가</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> ai_query<span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'my-external-model-openai-chat'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'Describe Databricks SQL in 30 words.'</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> summary\n\n<span class=\"token comment\"># english sdk</span>\nnew_df <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>ai<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">(</span><span class=\"token string\">'get 4 week moving average sales by dept'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>두 번째는 <strong>SQL 함수나 자연어 SDK를 추가</strong>하는 방식입니다.<br>\n이를 통해 사용자는 개발 과정에도 자연어를 활용할 수 있습니다.\n검색 UI와 달리 사용자의 검증을 거치지 않고 사용할 수 있지만, 일관된 답변을 보장 할 수 없는 관계로 운영 시스템에 직접 연동은 아직 어려울 것 같습니다.</p>\n<p>이처럼 다양한 방식을 지원함으로써 사용자는 AI에 쉽게 접근하고 일관된 개발 경험을 가질 수 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"기술-문서-검색\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%88%A0-%EB%AC%B8%EC%84%9C-%EA%B2%80%EC%83%89\" aria-label=\"기술 문서 검색 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기술 문서 검색</h2>\n<p>개발자는 개발 과정에서 문서 검색에 많은 시간을 사용합니다.<br>\nstackoverflow를 통해 검색하는 경우, 내가 사용하고 있는 프레임워크와 버전에 정확히 일치하는 문서를 찾지 못하는 경우도 많았습니다. 이제 데이터플랫폼 내에서 기술 문서와 코드를 기반으로 AI에게 질의할 수 있게 되었습니다.</p>\n<br>\n<p><strong>AWS Amazon Q Assistant</strong></p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 50.94736842105263%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAIAAABwJOjsAAAABGdBTUEAALGPC/xhBQAACilpQ0NQaWNjAABIiZ2Wd1RT2RaHz703vVCSEIqU0GtoUgJIDb1IkS4qMQkQSsCQACI2RFRwRFGRpggyKOCAo0ORsSKKhQFRsesEGUTUcXAUG5ZJZK0Z37x5782b3x/3fmufvc/dZ+991roAkPyDBcJMWAmADKFYFOHnxYiNi2dgBwEM8AADbADgcLOzQhb4RgKZAnzYjGyZE/gXvboOIPn7KtM/jMEA/5+UuVkiMQBQmIzn8vjZXBkXyTg9V5wlt0/JmLY0Tc4wSs4iWYIyVpNz8ixbfPaZZQ858zKEPBnLc87iZfDk3CfjjTkSvoyRYBkX5wj4uTK+JmODdEmGQMZv5LEZfE42ACiS3C7mc1NkbC1jkigygi3jeQDgSMlf8NIvWMzPE8sPxc7MWi4SJKeIGSZcU4aNkxOL4c/PTeeLxcwwDjeNI+Ix2JkZWRzhcgBmz/xZFHltGbIiO9g4OTgwbS1tvijUf138m5L3dpZehH/uGUQf+MP2V36ZDQCwpmW12fqHbWkVAF3rAVC7/YfNYC8AirK+dQ59cR66fF5SxOIsZyur3NxcSwGfaykv6O/6nw5/Q198z1K+3e/lYXjzkziSdDFDXjduZnqmRMTIzuJw+Qzmn4f4Hwf+dR4WEfwkvogvlEVEy6ZMIEyWtVvIE4gFmUKGQPifmvgPw/6k2bmWidr4EdCWWAKlIRpAfh4AKCoRIAl7ZCvQ730LxkcD+c2L0ZmYnfvPgv59V7hM/sgWJH+OY0dEMrgSUc7smvxaAjQgAEVAA+pAG+gDE8AEtsARuAAP4AMCQSiIBHFgMeCCFJABRCAXFIC1oBiUgq1gJ6gGdaARNIM2cBh0gWPgNDgHLoHLYATcAVIwDp6AKfAKzEAQhIXIEBVSh3QgQ8gcsoVYkBvkAwVDEVAclAglQ0JIAhVA66BSqByqhuqhZuhb6Ch0GroADUO3oFFoEvoVegcjMAmmwVqwEWwFs2BPOAiOhBfByfAyOB8ugrfAlXADfBDuhE/Dl+ARWAo/gacRgBAROqKLMBEWwkZCkXgkCREhq5ASpAJpQNqQHqQfuYpIkafIWxQGRUUxUEyUC8ofFYXiopahVqE2o6pRB1CdqD7UVdQoagr1EU1Ga6LN0c7oAHQsOhmdiy5GV6Cb0B3os+gR9Dj6FQaDoWOMMY4Yf0wcJhWzArMZsxvTjjmFGcaMYaaxWKw61hzrig3FcrBibDG2CnsQexJ7BTuOfYMj4nRwtjhfXDxOiCvEVeBacCdwV3ATuBm8Et4Q74wPxfPwy/Fl+EZ8D34IP46fISgTjAmuhEhCKmEtoZLQRjhLuEt4QSQS9YhOxHCigLiGWEk8RDxPHCW+JVFIZiQ2KYEkIW0h7SedIt0ivSCTyUZkD3I8WUzeQm4mnyHfJ79RoCpYKgQo8BRWK9QodCpcUXimiFc0VPRUXKyYr1iheERxSPGpEl7JSImtxFFapVSjdFTphtK0MlXZRjlUOUN5s3KL8gXlRxQsxYjiQ+FRiij7KGcoY1SEqk9lU7nUddRG6lnqOA1DM6YF0FJppbRvaIO0KRWKip1KtEqeSo3KcRUpHaEb0QPo6fQy+mH6dfo7VS1VT1W+6ibVNtUrqq/V5qh5qPHVStTa1UbU3qkz1H3U09S3qXep39NAaZhphGvkauzROKvxdA5tjssc7pySOYfn3NaENc00IzRXaO7THNCc1tLW8tPK0qrSOqP1VJuu7aGdqr1D+4T2pA5Vx01HoLND56TOY4YKw5ORzqhk9DGmdDV1/XUluvW6g7ozesZ6UXqFeu169/QJ+iz9JP0d+r36UwY6BiEGBQatBrcN8YYswxTDXYb9hq+NjI1ijDYYdRk9MlYzDjDON241vmtCNnE3WWbSYHLNFGPKMk0z3W162Qw2szdLMasxGzKHzR3MBea7zYct0BZOFkKLBosbTBLTk5nDbGWOWtItgy0LLbssn1kZWMVbbbPqt/pobW+dbt1ofceGYhNoU2jTY/OrrZkt17bG9tpc8lzfuavnds99bmdux7fbY3fTnmofYr/Bvtf+g4Ojg8ihzWHS0cAx0bHW8QaLxgpjbWadd0I7eTmtdjrm9NbZwVnsfNj5FxemS5pLi8ujecbz+PMa54256rlyXOtdpW4Mt0S3vW5Sd113jnuD+wMPfQ+eR5PHhKepZ6rnQc9nXtZeIq8Or9dsZ/ZK9ilvxNvPu8R70IfiE+VT7XPfV8832bfVd8rP3m+F3yl/tH+Q/zb/GwFaAdyA5oCpQMfAlYF9QaSgBUHVQQ+CzYJFwT0hcEhgyPaQu/MN5wvnd4WC0IDQ7aH3wozDloV9H44JDwuvCX8YYRNRENG/gLpgyYKWBa8ivSLLIu9EmURJonqjFaMTopujX8d4x5THSGOtYlfGXorTiBPEdcdj46Pjm+KnF/os3LlwPME+oTjh+iLjRXmLLizWWJy++PgSxSWcJUcS0YkxiS2J7zmhnAbO9NKApbVLp7hs7i7uE54Hbwdvku/KL+dPJLkmlSc9SnZN3p48meKeUpHyVMAWVAuep/qn1qW+TgtN25/2KT0mvT0Dl5GYcVRIEaYJ+zK1M/Myh7PMs4qzpMucl+1cNiUKEjVlQ9mLsrvFNNnP1IDERLJeMprjllOT8yY3OvdInnKeMG9gudnyTcsn8n3zv16BWsFd0VugW7C2YHSl58r6VdCqpat6V+uvLlo9vsZvzYG1hLVpa38otC4sL3y5LmZdT5FW0ZqisfV+61uLFYpFxTc2uGyo24jaKNg4uGnupqpNH0t4JRdLrUsrSt9v5m6++JXNV5VffdqStGWwzKFsz1bMVuHW69vctx0oVy7PLx/bHrK9cwdjR8mOlzuX7LxQYVdRt4uwS7JLWhlc2V1lULW16n11SvVIjVdNe61m7aba17t5u6/s8djTVqdVV1r3bq9g7816v/rOBqOGin2YfTn7HjZGN/Z/zfq6uUmjqbTpw37hfumBiAN9zY7NzS2aLWWtcKukdfJgwsHL33h/093GbKtvp7eXHgKHJIcef5v47fXDQYd7j7COtH1n+F1tB7WjpBPqXN451ZXSJe2O6x4+Gni0t8elp+N7y+/3H9M9VnNc5XjZCcKJohOfTuafnD6Vderp6eTTY71Leu+ciT1zrS+8b/Bs0Nnz53zPnen37D953vX8sQvOF45eZF3suuRwqXPAfqDjB/sfOgYdBjuHHIe6Lztd7hmeN3ziivuV01e9r567FnDt0sj8keHrUddv3ki4Ib3Ju/noVvqt57dzbs/cWXMXfbfkntK9ivua9xt+NP2xXeogPT7qPTrwYMGDO2PcsSc/Zf/0frzoIflhxYTORPMj20fHJn0nLz9e+Hj8SdaTmafFPyv/XPvM5Nl3v3j8MjAVOzX+XPT806+bX6i/2P/S7mXvdNj0/VcZr2Zel7xRf3PgLett/7uYdxMzue+x7ys/mH7o+Rj08e6njE+ffgP3hPP78QcZjQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAD/ElEQVQYGYXB245cVxWF4X/Mtdbeu6v6YMcRiYBICAkpPBcSebBwwT2PwRPABdxYRMY5dLe7znvNQVVZgbbdLb5P3/zhj7er7edffHF39+727ifI29u71cMK8REdoZuXN20cHzbzu7go4yipz7Mf7ifn1Iqdv/vtr3Gu1rsoVdLDw/rm5uq7N2+/+tWXV1eXioLzzZu3ev369Xa3B4NsR0QbhpD4hJ0+QSKilLf/6A8/Jiql6Je/H65u9tstsNn79dv117/5bDE1nyDJtiT6wYd9J+63vb54+XK9XmdmiUg7IoZxajVsHpPUe3f6CFFKaas273onag3dXDFdTsMoa9HLOOT1cqoNGwTiJBBoPtz+8ONf/vqDHlarUOwPe2xAUYZhCPE0AeI9BRLgzMNhP7bx7/8slzf84nqDMXJaIaD3LgkhabqYbH3/06oaQtQIcxJRShyJx9IIJD5mIIXw0b/+tnn11bQsD/Pcr6+vayucRRTOJAUo+PLVUg/rdb37nuULLpZjDZ6y/e7f2UaulhiJcSgh8chqvZ7GYb3aSSoVG0mlFNuAJMAnSAzDIKmGeDu/XPZhylxvE3wxNonHbuuhtfpqrDzPplQZZ5J2SMMwSOIR2zoDKjgJg20kG2MhHrmZ5cAgnmDOpH1MPY1AHK23XgyxbOIpFcRwT7kUY9pjKyHxoXBJx/aQYY9D4Rlppy3JNmfbQ/aUbU5k3EKLIQQVKPuFhmrAPEm1E5npdObOERpb4QPOtBAn5kyQ9m52KyriyBCSOKmGF7qPuB6GK2EhPuGDLGzL1BqliEcEGB8hwMZgO6S0haYWUxEfqtgPXoxZdeitRgSfap+/qgpaxS4hPiWVEnRsJARINkLA3WaOizYUHqs2l59dtVYiCImnxDjwnsTzliVTKclHnAgMJg6HeT64RIxD4azavlxWnmEz9wRqCYkn+UxA9j7PEdFaiwh+ZmRzJImfVdu7/V4SR7b5QKbnnkCtpYbMmW3+J3vaBmpripDUWuP/qaB5nve7nWEYxlYLj4QoAfZus95kRkTvfbFYlFJscyYhyVDLicFHPMMgQqoStVZsQz0pfGSeDeM49t4VUdO11ogwiJO0e++Hw3z/bmV7GsfWqs2TDodDrWUaBz2sVsvFgudlZs/svUfU3SElbAOZXl60WgJYbzattXnu2K21UgonBow4E0j8V83MnhkST5HUs+/3fe7z2Jh3G0m2JSHe3a/HabqYpuypxsU0Avv9YZ5nCduSugMQKDS2AtgG6rd/+nOENpvNOI6bzWa1WoMQ7wl6JtBqzcx57hInEsa4RJG03e1aq5fLxXK5BCRluve51dazb7fbVmvafe4XiwtJ2+3uP8V0U+JNfIFsAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"amazon-q\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/5xnJyR1xUOFjYnT3YBz8hU/6225678990955a0eb7a26796eb614f39/amazon-q.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/5xnJyR1xUOFjYnT3YBz8hU/6225678990955a0eb7a26796eb614f39/amazon-q.png?w=950 950w,\nhttps://images.ctfassets.net/tushy4jlcik7/5xnJyR1xUOFjYnT3YBz8hU/6225678990955a0eb7a26796eb614f39/amazon-q.png?w=1900 1900w,\nhttps://images.ctfassets.net/tushy4jlcik7/5xnJyR1xUOFjYnT3YBz8hU/6225678990955a0eb7a26796eb614f39/amazon-q.png?w=3800 3800w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Amazon Q는 AWS에서 출시한 생성형 AI 어시스턴트입니다.<br>\nAWS 콘솔 우측에 추가되어 AWS 클라우드와 관련된 다양한 질의를 수행할 수 있습니다.</p>\n<br>\n<p><strong>GitHub Dosu</strong></p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 54.21052631578947%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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F3CculE8AAABgFBMVEX////9/f3q6enn5+fo6enr6+vr6+zo6Ojn6Ojt7e7x8fL5+fn+/v/y8O/s7e3s7O309fXy8vP09PX29vb39/j+/v7+///6+vr6+/v29/jy9Pbx8/T09vj8/f3z8/Pu7u7x8fHx8vPp6+7l6Ort8PPo6+77/P37+/z9/v78/Pzp6eje3t3v7+/s7Oz4+Pny8/P39/fz8/T29/f19/3z9v35+/75+vr5+fr6+//4+v78/f/m5ubl5ebn5+jp6urx8vLy8vLw8PHw8fHw8PD09PTu7u/u7+/v7/D19fbq6uvq6+vo6ert7e3p6ent7u719vb8/f74+fr3+Pr6+/z5+vz5+/z6+/318fPv7/Hv7/L17e/y7/Dx8PH3+fvt7/L19vj8/P35+vv4+fn3+Pj6+vv3+Pnl5ubn6Onj5OXh4uLp6erq6urm5+f7+/v7+vr4+Pj6+fn5+Pj9/f77/Pz18PLu7fDo6+3s7vDr7e/r7fDw7vD07O/w7e72+Pv2+Prs7vEK4U+qAAABv0lEQVQYGY3BiVcSQRwA4N+mC8hsItrOoskwXQS1K9kxUxk17AYYujW42X1AmRVF1nbR/a8LvHbe0we9vg/6tAMTk7oe0+OJ2FQSwRiGAdrB6dTUTHp2LnlI00xsRDD8hQ3DgAELWTBKZnZ+4fDiQhYiJEdhFBQ7cvTY8RN5iJy0QNMKZsHcyzAxLmqGCcqp07buzCyVSlnYj5zBBVCWls+ic+cvwBgYIoxnihcvXYYxMERYEf4FQwSlVq6Ur14jQlRIkriULIs+IlwNBjBEkBClpOcJmxLXvi6qhFJCa1S4dS9JPQTKajl+I5fKVRt6bW3aqabqzrq91nCcdd2/GZu8BQqvEWHCf0AiTUu0kst5HhU11xaibtMKNWE/yZsbHDWDodubwWYwdGdoIwAlf/fe/QcPHz0e6clTUFo8wzJBm7WfPZ/nnDHOthjbyvDmC8Z4FoOyuu0nfCfhN16+el32/Y6/4sfjHf9NeXvC73gIlLm38Y7T7XaRZSFkvbOsnfeor4usDwjtdEHJ8mazne9rtVpyIJRhKEMZyjAMgywoHz99/vK11/vW+/7jZ/rX773+LIJiSinDPjlKXsLALktMbkLE5uULAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ai-dosu\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/kkCNngKHkwAywSxlLxQ7P/1b7787dbcaf4c5b1f08dbacb62b9b3c4/dosu.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/kkCNngKHkwAywSxlLxQ7P/1b7787dbcaf4c5b1f08dbacb62b9b3c4/dosu.png?w=238 238w,\nhttps://images.ctfassets.net/tushy4jlcik7/kkCNngKHkwAywSxlLxQ7P/1b7787dbcaf4c5b1f08dbacb62b9b3c4/dosu.png?w=475 475w,\nhttps://images.ctfassets.net/tushy4jlcik7/kkCNngKHkwAywSxlLxQ7P/1b7787dbcaf4c5b1f08dbacb62b9b3c4/dosu.png?w=950 950w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>오픈소스 영역에서도 생성형 AI를 통해 Issue, Discussion 문의 대응하는 사례가 생기고 있습니다. 위 그림은 LLM 프레임워크인 LangChain에서 사용하는 <a href=\"https://github.com/apps/dosubot\">Dosu</a> 봇 입니다.\n출시 예정인 GitHub Copilot도 이와 유사한 기능을 지원합니다.\n이러한 기능을 통해 사용자는 빠르게 문제를 해결하고 메인테이너는 중요한 의사결정에 집중할 수 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"데이터-거버넌스-도구\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B1%B0%EB%B2%84%EB%84%8C%EC%8A%A4-%EB%8F%84%EA%B5%AC\" aria-label=\"데이터 거버넌스 도구 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 거버넌스 도구</h2>\n<p>데이터 거버넌스는 정책을 만드는 일보다 운영하는데 더 많은 노력이 들어갑니다.<br>\n거버넌스 내에는 다양한 영역이 있지만 그 중 데이터 디스커버리와 메타데이터 관리에 AI가 활용되고 있습니다.</p>\n<p><strong>데이터 디스커버리 영역</strong>의 경우, 기존 UI 기반 검색 엔진에 자연어 질의가 추가됩니다.<br>\n이를 통해 앞서 언급한 Text2SQL과 유사한 경험을 제공할 수 있습니다.</p>\n<p>다음은 <strong>메타데이터 관리 영역</strong>입니다. 메타데이터 관리는 데이터 신뢰도를 위해 데이터 생산자와 소비자 모두에게 중요합니다. 하지만 거버넌스 정책이 새로 추가되거나 변경되면 데이터에 대한 오너십을 가지는 도메인 전문가는 이를 항상 인지하기 어렵습니다. 만약 불일치가 발생하면 거버넌스 담당자가 보정하는 작업을 수행하는 경우도 있습니다. <strong>메타데이터 영역의 AI는 거버넌스 정책을 유지하고 메타데이터 입력을 도와주는 역할</strong>을 합니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 57.36842105263158%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAXCAMAAABODP0nAAACAVBMVEX////7+/v+/v7u7u7s7Ozw8PDy8vLx8fHz8/P09PT4+/j+///y9vjt8/b3+fvq7vKkucmjucmftcbK1d3v7+/u7u/r6+vp6eno6Ojq6uvt7u7n5+fl5ebq6urt7e30+Pr6/P3y9ffK1NzK1N3H0tvf5On4+Pj29vb6+vr5+fr8/Pz6+vv5+fn4+fn4+Pn8/v/5+vz8/f729vX9/Pz0+P3s7vH19/j8/f/5/P/7/f78/f39/v39/f39///q7/Lo7vHr8PL09vX29/b19fX7+vr7+/r6+fr5+Pj5+Pn8+/z49/j39/f6+v33+Pz7+/77+vv6/Prv9+/w9vDw9fDx9vHy+PP1+vX1+/X2/Pb2+/b0+vTy+PLq7+rs8ez0+PT4/Pjm9ObY49jT3dPS3NLT3tPV39XU3tTd593c59/d59/m8ebs9+zq9eri7uLl8eXk7+Te6d7q9Or8/fz5/Pnx+PHq8erp7+np8Onq8Oro7+jn7ufo7+zq8O3w9/Dy+fLz+fP+/f79/P3//v/9//34+fju9+/v8/Py9fbt8fHy9vb1+Pjy8fL19vX7/Pz5+vr0+fT+//739vb6+vn8+/vw7/D09/Tu7/Ht7/H19fb9/v/y9vny9fiVr8FxmbPDz9jy9fPu8O7z9PTx8vPe4+ba3+Lo6uz+/f38/Pv//v7///7+/v2TSDaRAAACRklEQVQoz42SB1cUMRDHJ9nbEk9R5DysZ8+GGFHEBkRRVw+OVdE7FRFF5UTs5cTDLohdsfcudj+lSTjeE0Gf/83LpMz8dpIJAMLwX8JWxHZc17FtzyO2a7nEVmPbGaU3o6PHFI0dV1w8vkQ5xiKWPSEeKZ04qXTylKnTLBJLJCwrZhyhaPqMmbNKZs+Zq8bUZ6wMczRPiPnlYoR/LlhYAVHtuKjy38ktXrJ02XJlK6qqqmt4DecS+IiO0RXqAyhbWVu7arW3xvMC6lHEhmntOoRUA6pULliSMaFVR4eprr5OrUKKNVAh6kO1Ur9+w8a/5CkbIbVpczqTyaS3pNOZrduatjc3/a7mHemWzM5drZJBaveevW3Z7L72tv3Z9o4DBw8dHqIjR48d7zhxMqeIpzpP57vO5Lu68mfP5c9fuNg5RC2XtC7zRkDJgPhSym4sMZaykhfU02N6aQziDBAPzato8HkYSDVgSZO9H0pTNr17BWTBUU1EyKmvQxAzbyU08cKnA6dmwGnMslp7IQQc+EFw9dr1Gzdv3QZJAqIiQmUQYGaIgiZrVAxg4jh3nLvV1X199wC45AopldF8TRSW5d5/AAEC4gY0NPXmID3iKaLvEG+QKIVgiqgS9SKeqk/48NFjpOZY54gLxhATiSdPezVRBAFRjTx7/uIPohggUiZ5Lleo6stXr9+8fadZ0qAM0VxPGI8n4tb7D4ITrY/9/Z8+f/nKbNcOsSQx16YYherCMWcIsVS3VPdv9K3y+4+fUh9XSw6aX92vj2xdmTaiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"aws-datazone\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/10e8Ag42pCYDQDLMb20F2G/1e9f969455d2ad4174f899824f45eca9/aws-datazone.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/10e8Ag42pCYDQDLMb20F2G/1e9f969455d2ad4174f899824f45eca9/aws-datazone.png?w=238 238w,\nhttps://images.ctfassets.net/tushy4jlcik7/10e8Ag42pCYDQDLMb20F2G/1e9f969455d2ad4174f899824f45eca9/aws-datazone.png?w=475 475w,\nhttps://images.ctfassets.net/tushy4jlcik7/10e8Ag42pCYDQDLMb20F2G/1e9f969455d2ad4174f899824f45eca9/aws-datazone.png?w=950 950w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위 예시는 AWS DataZone 입니다.<br>\nAI를 통해 입력된 메타데이터를 리뷰하여 올바른 내용으로 교정할 수 있습니다.</p>\n<br>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 600px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 72.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAdCAMAAADvl95BAAACQFBMVEUAAAAAAQAAAADp6enp6ekAAAAAAAAAAAAAAAABAADAioj4ycfpubfv7+/u7u4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC9i4n7z83svbvo6OgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACnenj7z83DWE9lAADy8vLOzs7Ll5X90c6mJQ6nLh7p6enz8/Pm5ubp6ens7Ozs7Ozk5OS+vr6ysrIAAADJkpD5ycf5y8n4ysj4zcvakYzIOCKpMyUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACeAACuMSC9Pi+eLyOdNikAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADO5cnU6dHP5MzR5s7S58/Q5c3J3cbN5cmbm5vw8PDb29vU6tIAAAAAAAAAAABoaGjY2Ni5ubnT6dHL38gAAAAAAAAAAAAAAAAAAADU6dHR5s8AAADS6c/Z7dfY7NbX69XS6c+mwZ2rxKSkvZ2kvp2Tqo0AAAAAAAAAAAAAAAAAAADz8/Py8vLr6+vn5+ft7e3x8fH4zMr3y8n6zcv6+vr39/fd3d3Ozs7S0tLk5OT4+Pj5z83xyMbzysjyycf0y8n4z83909Hu7u7Pz8/R0dH9/f3QravVsa/UsK/Rr63ht7TepaLo6OjV1dXZ2dnY2Njg4OD+09H80c/80tD91NLhoZ3FOiaqMiPb7trY7NfZ7NjY69fZ7djS5dG0xLO3x7a5ybiuvq61xbTV6NTR49DU59PQ48/S5NFZcyFIAAAAg3RSTlMAAAWzsgQBAwIDJOVws7ULDTc4OTI0Niblb8MsERMbHB4aEhAz56gttskl6f7EgrzIvLm6wMmeDxqmurm42P3MCC4HCSpYVxYGKYWlRQoMCjAoIzEzHRUpe7G0r66ywHoMgCu2JRgkEHgts8MrICcvIbS4DqPr5+iiGygnJjEZIhQfNSwqJFwAAAHkSURBVBgZjcE/SFVRAMfx7++8+845Pn09HzYY3jAyEhuiQcj+UGSEDVmE0NzSHI0toUtb0NDc3N4kEQlpGELhFAk1ODSUEaXWe/flvd17y2uoaZ+PyBiNS0JqTahlExOXIvcDKrojMppYCchV2pSLKmp65WyzUVVFqbik6krAH1UpWV3e16GqJKTYlSWZNqFUdU9ArqfupKSj+0NtdZHCEe0VKGUlMuUBpVDmJYUhSYCkW/dFzpzR93aUmaRghyNSVinW9TnwB3p7j7MNM0ohdOBC/ikwl/hmiGfJ2CtfTXVq8FnMFqbHzHTW3naeIhOV5uvTrj7GNqz3zjtH6MCF9mLZOe/ZQejA9fGb2CIg59dOLs0w0rZYapBK2EJk3FWlkFr2UZNNrksPISDTah+VFMv8fNzimqrvDun9m9PMDn20kzgJMORcOeV90O6H++aafsH7tYHpzxe6jx4Owy9+ARAZc/NcBUksT+kBgkSkEpHErI19moKAXOm5EAmJvddik8tPumxEQCYoK0WSEpvYY/NxAqJwnqdsw/aM1u+2+EutxvYOjgCG3UUnAMPu+l8Bht11kDL8J8OGs+wgoDDYDC2FCBthSUUND4gNPmGdbut119Jc/4sEUIN/q90IO8f3Wwq/AL9gdcLzH87CAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"grab-ai\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/1ltwuHcmOkM0WJXbhnvkA8/b1d5ad10afd55a1a99729de0a017c437/grab-ai.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/1ltwuHcmOkM0WJXbhnvkA8/b1d5ad10afd55a1a99729de0a017c437/grab-ai.png?w=150 150w,\nhttps://images.ctfassets.net/tushy4jlcik7/1ltwuHcmOkM0WJXbhnvkA8/b1d5ad10afd55a1a99729de0a017c437/grab-ai.png?w=300 300w,\nhttps://images.ctfassets.net/tushy4jlcik7/1ltwuHcmOkM0WJXbhnvkA8/b1d5ad10afd55a1a99729de0a017c437/grab-ai.png?w=600 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Grab의 경우, <strong>LLM이 데이터 분류를 위한 태그를 생성하고 거버넌스 담당자가 확인 후 승인하는 프로세스</strong>를 개발했습니다. 이를 통해 민감도 분류, 개인정보 컬럼에 PII 태그를 붙이는 등의 거버넌스 정책을 20,000개 이상 데이터에 일관되게 적용할 수 있었습니다.</p>\n<p><br><br></p>\n<h2 id=\"플랫폼에-ai를-사용하는-이유\" style=\"position:relative;\"><a href=\"#%ED%94%8C%EB%9E%AB%ED%8F%BC%EC%97%90-ai%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"플랫폼에 ai를 사용하는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플랫폼에 AI를 사용하는 이유</h2>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 84.94736842105263%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRuAAAABXRUJQVlA4INQAAACwBgCdASooACIAPpE+l0glo6IhLjQMyLASCWcAyV3/4EQs96jUWqhsTk0gosjNCMGgmr4gJeuKp/eeItwAwAD+/TQFt0DLSXRujut9Q3tP6O4KuBUY1az7R3iwXg18uDYd7FwguMaHnhGn840w04qE0UzFc8e4iZq1ANYSXEAkinsViaBcZhZPWNUwSUjsGu3JzCyeabBnvnzoppOdvYScD+tH+80yosdN9MD6nFyogWdBVrmg8/qiwWcwLDURSuxa4SrLej0qDvggy5IJKO5orAAAAA=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"github-copilot\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/4W8POiyUyxzCi2diDKEEJv/307299e075f4b6ec47d23a8316dffeb4/copilot.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/4W8POiyUyxzCi2diDKEEJv/307299e075f4b6ec47d23a8316dffeb4/copilot.png?w=238 238w,\nhttps://images.ctfassets.net/tushy4jlcik7/4W8POiyUyxzCi2diDKEEJv/307299e075f4b6ec47d23a8316dffeb4/copilot.png?w=475 475w,\nhttps://images.ctfassets.net/tushy4jlcik7/4W8POiyUyxzCi2diDKEEJv/307299e075f4b6ec47d23a8316dffeb4/copilot.png?w=950 950w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>GitHub Copilot Research에 따르면 Copilot 사용 시 55%의 생산성 증가 효과가 나타난다고 합니다.<br>\n플랫폼에 AI를 도입함으로써 사용자는 개발 생산성을 얻을 수 있고 기업은 운영 비용을 절감할 수 있습니다. 따라서 앞으로도 다양한 활용 사례가 추가될 것이라 합니다.</p>\n<p><br><br></p>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p>실제 기능에 대한 자세한 내용은 아래 링크를 통해 확인하실 수 있습니다.</p>\n<ul>\n<li><a href=\"https://www.databricks.com/kr/blog/introducing-lakehouseiq-ai-powered-engine-uniquely-understands-your-business\">Databricks LakehouseIQ</a></li>\n<li><a href=\"https://www.snowflake.com/blog/use-ai-snowflake-cortex/\">Snowflake Copilot</a></li>\n<li><a href=\"https://docs.dremio.com/cloud/sonar/query-manage/querying-data/generative-ai/\">Dremio Text-to-SQL feature</a></li>\n<li><a href=\"https://aws.amazon.com/ko/blogs/korea/introducing-amazon-q-a-new-generative-ai-powered-assistant-preview/\">AWS Amazon Q Assistant</a></li>\n<li><a href=\"https://aws.amazon.com/ko/blogs/aws/amazon-redshift-adds-new-ai-capabilities-to-boost-efficiency-and-productivity/\">AWS Redshift Generative AI</a></li>\n<li><a href=\"https://engineering.grab.com/llm-powered-data-classification\">Grab LLM based data classification</a></li>\n<li><a href=\"https://github.blog/2022-09-07-research-quantifying-github-copilots-impact-on-developer-productivity-and-happiness/\">GitHub Copilot Research</a></li>\n</ul>","excerpt":"생성형 AI의 공개 이후 다양한 영역에서 활용하는 사례가 늘어나고 있습니다.\n오늘은 데이터플랫폼 영역에서 AI…"}}}},{"node":{"title":"Pandas 2.0의 Copy-on-Write에 대하여","id":"ef1e9cc8-27ee-57ae-acf6-96d41704b9a0","slug":"pandas-2-0-copy-on-write","publishDate":"December 24, 2023","heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":7,"html":"<p>Pandas 2.0 버전부터 <code class=\"language-text\">Copy-on-Write (CoW)</code>가 추가되었으며 3.0 버전부터 기본 값이 활성화로 변경됩니다. 이번 글에서는 Pandas Copy-on-Write가 Pandas가 가진 문제를 어떻게 해결하는지에 대해 알아보겠습니다.</p>\n<ul>\n<li><a href=\"https://swalloow.github.io/pandas-2-0-copy-on-write/#pandas-dataframe\">Pandas DataFrame</a></li>\n<li><a href=\"https://swalloow.github.io/pandas-2-0-copy-on-write/#pandas-settingwithcopywarning\">Pandas SettingWithCopyWarning</a></li>\n<li><a href=\"https://swalloow.github.io/pandas-2-0-copy-on-write/#pandas-copy-on-write\">Pandas Copy-on-Write</a></li>\n<li><a href=\"https://swalloow.github.io/pandas-2-0-copy-on-write/#pandas-copy-on-write-mode\">Pandas Copy-on-Write Mode</a></li>\n</ul>\n<br>\n<h2 id=\"pandas-dataframe\" style=\"position:relative;\"><a href=\"#pandas-dataframe\" aria-label=\"pandas dataframe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pandas DataFrame</h2>\n<p>Pandas CoW에 대해 알아보기 이전에 먼저 DataFrame의 내부 구조에 대한 이해가 필요합니다.<br> <code class=\"language-text\">DataFrame</code>은 Pandas의 행, 열 기반 2차원 데이터 구조입니다.<br>\n초기에 Pandas는 아주 느린 컬럼 기반 연산을 빠르게 처리하기 위해 <code class=\"language-text\">BlockManager</code>를 추가했습니다.</p>\n<p><strong>BlockManager</strong><br>\nBlockManager는 numpy array로 저장된 데이터를 참조하는 블록을 관리하는 역할을 합니다.<br>\n아래 코드를 통해 자세히 알아보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span>\n\n   c1 c2  c3\n<span class=\"token number\">0</span>   <span class=\"token number\">1</span>  a  <span class=\"token number\">10</span>\n<span class=\"token number\">1</span>   <span class=\"token number\">2</span>  b  <span class=\"token number\">20</span>\n<span class=\"token number\">2</span>   <span class=\"token number\">3</span>  c  <span class=\"token number\">30</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">.</span>_data<span class=\"token punctuation\">)</span>\n\nBlockManager\nItems<span class=\"token punctuation\">:</span> Index<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c3'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'object'</span><span class=\"token punctuation\">)</span>\nAxis <span class=\"token number\">1</span><span class=\"token punctuation\">:</span> RangeIndex<span class=\"token punctuation\">(</span>start<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> stop<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> step<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nNumpyBlock<span class=\"token punctuation\">:</span> <span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span> x <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> int64\nNumpyBlock<span class=\"token punctuation\">:</span> <span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> x <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> <span class=\"token builtin\">object</span></code></pre></div>\n<p>DataFrame을 생성하고 internal API를 통해 BlockManager 구조에 접근할 수 있습니다.<br>\n위 예시에서는 2개의 블록이 존재하며 그 중 int 타입을 가지는 <code class=\"language-text\">c1</code>, <code class=\"language-text\">c3</code>는 하나의 블록으로 통합되어 있습니다. 이처럼 BlockManager는 <strong>메모리 최적화와 효율적인 데이터 접근을 위해 동일한 타입을 하나의 블록으로 통합</strong>하여 관리합니다. 이번에는 동일한 타입을 가지는 <code class=\"language-text\">c4</code> 컬럼을 추가하고 다시 확인해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">[</span><span class=\"token string\">'c4'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span><span class=\"token number\">300</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">.</span>_data<span class=\"token punctuation\">)</span>\n\nBlockManager\nItems<span class=\"token punctuation\">:</span> Index<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c4'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'object'</span><span class=\"token punctuation\">)</span>\nAxis <span class=\"token number\">1</span><span class=\"token punctuation\">:</span> RangeIndex<span class=\"token punctuation\">(</span>start<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> stop<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> step<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nNumpyBlock<span class=\"token punctuation\">:</span> <span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span> x <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> int64\nNumpyBlock<span class=\"token punctuation\">:</span> <span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> x <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> <span class=\"token builtin\">object</span>\nNumpyBlock<span class=\"token punctuation\">:</span> <span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> x <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> int64</code></pre></div>\n<p>이번에는 새로운 블록이 추가된 것을 확인할 수 있습니다.<br>\n<strong>BlockManager는 새로운 블록이 추가될때마다 동일한 타입의 블록을 통합하지 않습니다.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">.</span>_data<span class=\"token punctuation\">.</span>consolidate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nBlockManager\nItems<span class=\"token punctuation\">:</span> Index<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'c1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c2'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c4'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dtype<span class=\"token operator\">=</span><span class=\"token string\">'object'</span><span class=\"token punctuation\">)</span>\nAxis <span class=\"token number\">1</span><span class=\"token punctuation\">:</span> RangeIndex<span class=\"token punctuation\">(</span>start<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> stop<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> step<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nNumpyBlock<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span> <span class=\"token number\">2</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span> x <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> int64\nNumpyBlock<span class=\"token punctuation\">:</span> <span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> x <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtype<span class=\"token punctuation\">:</span> <span class=\"token builtin\">object</span></code></pre></div>\n<p>DataFrame 연산이 실행되기 직전에 <code class=\"language-text\">consolidate()</code> 메서드를 통해 자동으로 통합합니다.<br>\n구체적으로는 블록 통합이 연산에 유리한 경우에만 블록 통합이 이루어집니다.</p>\n<p><br><br></p>\n<h2 id=\"pandas-settingwithcopywarning\" style=\"position:relative;\"><a href=\"#pandas-settingwithcopywarning\" aria-label=\"pandas settingwithcopywarning permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pandas SettingWithCopyWarning</h2>\n<p>앞서 Pandas가 BlockManager를 통해 어떻게 블록을 관리하는지 알아보았습니다.<br>\n이번에는 CoW에서 해결하고자 하는 <code class=\"language-text\">SettingWithCopyWarning</code> 문제에 대해 알아보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span>\n\n   student_id grade\n<span class=\"token number\">0</span>           <span class=\"token number\">1</span>     A\n<span class=\"token number\">1</span>           <span class=\"token number\">2</span>     C\n<span class=\"token number\">2</span>           <span class=\"token number\">3</span>     D</code></pre></div>\n<p>위와 같은 DataFrame에서 첫 번째 행의 <code class=\"language-text\">grade</code> 값을 E로 변경해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">grades <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">\"grade\"</span><span class=\"token punctuation\">]</span>\ngrades<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"E\"</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span>\n\n   student_id grade\n<span class=\"token number\">0</span>           <span class=\"token number\">1</span>     E\n<span class=\"token number\">1</span>           <span class=\"token number\">2</span>     C\n<span class=\"token number\">2</span>           <span class=\"token number\">3</span>     D\n\nSettingWithCopyWarning<span class=\"token punctuation\">:</span> \nA value <span class=\"token keyword\">is</span> trying to be <span class=\"token builtin\">set</span> on a copy of a <span class=\"token builtin\">slice</span> <span class=\"token keyword\">from</span> a DataFrame</code></pre></div>\n<p>코드만 보면 <code class=\"language-text\">grade</code> 변수에만 변경내용이 적용된 것처럼 보입니다.<br>\n하지만 실제로는 <code class=\"language-text\">df</code> 내용도 변경되어 있으며 <code class=\"language-text\">SettingWithCopyWarning</code> 경고 문구가 나타납니다.\n<code class=\"language-text\">ChainedIndexing</code>을 사용한 다른 예시도 확인해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">\"student_id\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"grades\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"F\"</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span>\n\n   student_id grade\n<span class=\"token number\">0</span>           <span class=\"token number\">1</span>     E\n<span class=\"token number\">1</span>           <span class=\"token number\">2</span>     C\n<span class=\"token number\">2</span>           <span class=\"token number\">3</span>     D</code></pre></div>\n<p>이번에도 <code class=\"language-text\">SettingWithCopyWarning</code> 경고 문구가 나타나며 <code class=\"language-text\">df</code>에는 어떠한 변화도 없는 것을 확인할 수 있습니다.\n이러한 문제가 발생하는 <strong>원인은 Pandas, Numpy가 내부적으로 view 또는 copy를 반환하는 방식</strong>에서 찾아볼 수 있습니다.</p>\n<p><strong>Views and Copies</strong><br></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n\norigin <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nview <span class=\"token operator\">=</span> origin<span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ncopy <span class=\"token operator\">=</span> origin<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\narr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>origin<span class=\"token punctuation\">)</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>view<span class=\"token punctuation\">)</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>copy<span class=\"token punctuation\">)</span>\narray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>위 코드 결과를 보면 <code class=\"language-text\">origin</code>, <code class=\"language-text\">view</code>는 변경된 값으로 반영되어 있지만 <code class=\"language-text\">copy</code>는 반영안되어 있는 것을 확인할 수 있습니다. <strong>view는 자체적으로 데이터가 없는 numpy 배열</strong> 입니다. 반면에 <strong>copy는 원본 배열의 요소를 새 배열에 복사하여 전체 복사본의 데이터</strong>를 가지고 있습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 44.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAASCAAAAAAMdMN6AAABG0lEQVQoz5XSy1LEQAgFUP//A11pqTWWmqQz/QAaGjrgxtFVqpy7Pgvg8hD/zMM98OjEQ2aEcmeRiFBEFBAiBkLh+QNZ8rJr1a+VU8IGsl0I84655AU2SEVusO9vH4xzTbAsS+11/2QquUJtuVG7lvEDfQiReMQcakOC4xhDRhcewsLcj5NlyE+WmSTcUSOYEYiizRM4Jl3qTPD8JOvSCK/HCZTev6qgwdbSlkiPszu6mqlGxCEsOu9qxt3DPdzd/Q8adhldI4A7dfIIwVYpY4NWW0HS24yzvaxe5OWVPz8K7fX9cXDeIENZOOFWbwcXpHVjCrlSue5kPlLHypmBoI0K8NuMzmkWEYfp0BkRrmqmZqZqZur3vtm/8g0Krb/xf4FbzAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"view-copy\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/RKHHbP0caT2iSgCohNwSj/a66eab638f2a77b5f452ccabfc866a67/view-copy.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/RKHHbP0caT2iSgCohNwSj/a66eab638f2a77b5f452ccabfc866a67/view-copy.png?w=240 240w,\nhttps://images.ctfassets.net/tushy4jlcik7/RKHHbP0caT2iSgCohNwSj/a66eab638f2a77b5f452ccabfc866a67/view-copy.png?w=480 480w,\nhttps://images.ctfassets.net/tushy4jlcik7/RKHHbP0caT2iSgCohNwSj/a66eab638f2a77b5f452ccabfc866a67/view-copy.png?w=960 960w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>이처럼 view, copy에 따라 원본 객체인지 아닌지 달라지며 이는 일관된 동작을 보장하지 못하게 됩니다.<br>\n결국 <code class=\"language-text\">SettingWithCopyWarning</code>은 코드에서 사용자가 의도하지 않은 동작이 발생할 가능성이 있음을 경고하는 warning 입니다. 이 문제를 해결하기 위해 Pandas 2.0에 <code class=\"language-text\">Copy-on-Write</code>가 추가되었습니다.</p>\n<p><br><br></p>\n<h2 id=\"pandas-copy-on-write\" style=\"position:relative;\"><a href=\"#pandas-copy-on-write\" aria-label=\"pandas copy on write permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pandas Copy-on-Write</h2>\n<p>Pandas Copy-on-Write는 <strong>다른 DataFrame으로부터 생성된 모든 DataFrame이 항상 복사본으로 동작하도록 보장</strong>합니다. 다시 말해, 더 이상 단일 연산으로 두 가지 이상의 객체가 수정될 수 없습니다. (ex. 처음 예시에서 grade만 변경되고 df는 변경되지 않음)</p>\n<p>이를 구현하기 위한 가장 쉬운 방법은 항상 데이터를 복사하는 방법입니다.<br>\n하지만 적용 시 성능이 크게 떨어지기 때문에 다른 방식을 적용해야 했습니다.</p>\n<p><strong>BlockValuesRefs</strong><br>\n불필요한 복사를 방지하려면 복사를 트리거할 시기를 정확히 알아야 합니다.<br>\n결국 DataFrame 데이터가 다른 DataFrame과 공유되는 경우에만 복사를 트리거해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\ndf2 <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>위 코드에서는 <code class=\"language-text\">df</code>와 df의 view 객체인 <code class=\"language-text\">df2</code>를 생성합니다.<br>\n현재 <code class=\"language-text\">df</code>와 <code class=\"language-text\">df2</code>는 동일한 numpy 배열을 참조하고 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span></code></pre></div>\n<p>코드를 통해 둘 중 하나가 수정되는 경우, 복사가 트리거됩니다.<br>\n이 때 다른 Pandas 객체가 참조하고 있는지를 추적해야 합니다.<br>\n이를 위해 <code class=\"language-text\">BlockValuesRefs</code>가 추가되었습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 29.48453608247423%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAMCAAAAAA1qKCRAAAAiklEQVQY053RwQ7CIAwG4L3/A7qDF6Mmm1lApBRoKdvY9CYa9E96ab7QpnRLY7p/oZ4aoQ9NMG3h7/BxHW4RNYJC2RsSiSjmNxitQwKLWKoIuo8zusShOjqry3AeNWcR8cYf+ynFKhRrwBij5lwSoD+c6AP05a0MTwhslaP66IX3vPbg7QLzzz+zAtRU2T+Pwn2fAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ref1\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/2D9OCQfiqBrPnFVvYCKhpd/dc7eedf889af33d58efa757176b0e380/ref1.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/2D9OCQfiqBrPnFVvYCKhpd/dc7eedf889af33d58efa757176b0e380/ref1.png?w=243 243w,\nhttps://images.ctfassets.net/tushy4jlcik7/2D9OCQfiqBrPnFVvYCKhpd/dc7eedf889af33d58efa757176b0e380/ref1.png?w=485 485w,\nhttps://images.ctfassets.net/tushy4jlcik7/2D9OCQfiqBrPnFVvYCKhpd/dc7eedf889af33d58efa757176b0e380/ref1.png?w=970 970w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p><code class=\"language-text\">BlockValuesRefs</code>는 numpy 배열을 감싸고 이 참조를 내부적으로 저장하는 블록을 가리키는 <code class=\"language-text\">weakref</code>를 생성합니다.\n위의 예시와 같이 동일한 타입의 <code class=\"language-text\">a</code>, <code class=\"language-text\">b</code> 컬럼은 BlockManager를 통해 하나의 블록에 존재합니다.\n그리고 블록에 대해 <code class=\"language-text\">weakref</code>를 가지는 Block Reference Tracker가 추가됩니다.<br>\n이제 다음 예시에서 새로운 블록을 추가해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df2 <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>reset_index<span class=\"token punctuation\">(</span>drop<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 53.276955602537%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAVCAAAAAARcfPCAAAA6klEQVQoz42SUW/DIAyE+///3rTtaa0mdU2WBpqE2MEGnMKyTm1Gk9wDQuhDhrvbjRu1+9vZciuoN4JJ3jvnnSyCXVmdCS5gFNB0wlHE/0DQbUumReh6kxB7stwPvg+50aJP5bFSGB/guKLvt0+yWTC0qtF1UwcRGS3tX9/1ExAlBLGFC1EIQ60YsuBIDB3//gU/cHDs8vZEN+F2B9jnffSY1mI/GTLgI3cHFi9pjMNp7pybJxP0USIBds49JFPHZEyjwAJxeBrhXTKKWZZLkZL5qpTJ1SKTjD7IWs0CxkSE7Hof6UeyDi7oCivaO5xj5XBWAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ref2\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/4239ZGl27LRzj0fIxiW2Ut/149499a3ad41a0c2635bdd04fd9e9006/ref2.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/4239ZGl27LRzj0fIxiW2Ut/149499a3ad41a0c2635bdd04fd9e9006/ref2.png?w=237 237w,\nhttps://images.ctfassets.net/tushy4jlcik7/4239ZGl27LRzj0fIxiW2Ut/149499a3ad41a0c2635bdd04fd9e9006/ref2.png?w=473 473w,\nhttps://images.ctfassets.net/tushy4jlcik7/4239ZGl27LRzj0fIxiW2Ut/149499a3ad41a0c2635bdd04fd9e9006/ref2.png?w=946 946w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p><code class=\"language-text\">BlockValuesRefs</code>는 이제 <code class=\"language-text\">df</code>를 위한 블록과 <code class=\"language-text\">df2</code>를 위해 새로 생성된 블록을 가리킵니다.\n이를 통해 동일한 메모리를 가리키는 모든 DataFrame을 항상 인식할 수 있습니다.\n동일한 numpy 배열을 가리키는 블록이 몇 개 남아 있는지 참조 추적 객체를 통해 알아낼 수 있습니다.\n이러한 과정을 통해 <strong>둘 중 하나가 내부에서 수정되면 내부적으로 복사본을 트리거</strong>할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df2<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span></code></pre></div>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 46.99646643109541%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAATCAAAAADHKBDfAAAAw0lEQVQoz52Sy24CMQxF+f/fY8OuUDQdzVAESRzHz2kt2HRBRNS7iqUjWz7O7mcwuz/vbRDM62jHwdFSgKhAKfQo3dzsJYjrd8Fcg9RIKgxM0hsN8zytyVQt1eWwSBdEQKgXdHel+XDqd2zMwtlClGMrtWl36y3yVs/mgx6X4/gJXVXU3oAwzbd2h3zHR0mxFvkr0FmsppwhEREvpa2ofeHn6fPrKuGR8WN/bH2PFswV48rS8vnCXVA48rTMIsLbP77ZL3aG7fHkwXDEAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ref3\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/2KJYLOXOASBuJ8ixTCW5pE/ec5eb23be8f4a9289113ce8f2970269b/ref3.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/2KJYLOXOASBuJ8ixTCW5pE/ec5eb23be8f4a9289113ce8f2970269b/ref3.png?w=283 283w,\nhttps://images.ctfassets.net/tushy4jlcik7/2KJYLOXOASBuJ8ixTCW5pE/ec5eb23be8f4a9289113ce8f2970269b/ref3.png?w=566 566w,\nhttps://images.ctfassets.net/tushy4jlcik7/2KJYLOXOASBuJ8ixTCW5pE/ec5eb23be8f4a9289113ce8f2970269b/ref3.png?w=1132 1132w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>이제 <code class=\"language-text\">df2</code>의 블록은 전체 복사를 통해 복사되어 자체 데이터와 <code class=\"language-text\">BlockValuesRefs</code>가 있는 새로운 블록을 생성합니다. <code class=\"language-text\">df</code>와 <code class=\"language-text\">df2</code>는 더 이상 메모리를 공유하지 않습니다.<br>\n이해를 위해 몇 가지 상황을 더 살펴보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\ndf2<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span></code></pre></div>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAAAAADaLSBnAAAA8UlEQVQoz43STW/DIAwG4P7/vzdpx0ltkpZpSYggYBt/9TBpW7Wg9j358MgGw8lfzOm3VH5MF0L9qO071KgV60FUtD/BLgRsxGXfc4YfaEcwny9jzsu+xSwisidExHI0Wsw4LsscY60VbjcZJybtwGUMQ1ibqkKd394/8QiqGVcVkbAzc0k0B6h2cBlAwpTnLRcionpdgFs7OKOpqaqs1VREJWPrrMf1i93turq7eyXu7dHbmdx9F3e3Qv0ndDU1wClC09K4/ynaMEylxJpS+u8eOrq7bjHGtLH4E2jrEC5hAH8GFcxMkz+FTkRE/ALs5g4s2hOdSXdY1QAAADh0RVh0aWNjOmNvcHlyaWdodABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1QYWNrYXJkIENvbXBhbnn5V3k3AAAAIXRFWHRpY2M6ZGVzY3JpcHRpb24Ac1JHQiBJRUM2MTk2Ni0yLjFXrdpHAAAAJnRFWHRpY2M6bWFudWZhY3R1cmVyAElFQyBodHRwOi8vd3d3LmllYy5jaBx/AEwAAAA3dEVYdGljYzptb2RlbABJRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0JEU0ipAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ref4\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/59lcqpTQ7nXgJwhI2HjJq8/8ca826f0fe02648afe9c3a01323eaeee/ref4.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/59lcqpTQ7nXgJwhI2HjJq8/8ca826f0fe02648afe9c3a01323eaeee/ref4.png?w=265 265w,\nhttps://images.ctfassets.net/tushy4jlcik7/59lcqpTQ7nXgJwhI2HjJq8/8ca826f0fe02648afe9c3a01323eaeee/ref4.png?w=530 530w,\nhttps://images.ctfassets.net/tushy4jlcik7/59lcqpTQ7nXgJwhI2HjJq8/8ca826f0fe02648afe9c3a01323eaeee/ref4.png?w=1060 1060w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>이 경우에는 <code class=\"language-text\">df2</code>를 수정하기 전 <code class=\"language-text\">df</code>가 <code class=\"language-text\">None</code>이 됩니다.\n결국 <code class=\"language-text\">df</code> <code class=\"language-text\">BlockValuesRefs</code>의 <code class=\"language-text\">weakref</code>는 None으로 평가되며, 이를 통해 복사를 실행하지 않아도 <code class=\"language-text\">df2</code>를 수정할 수 있습니다.\n마지막으로 <code class=\"language-text\">BlockValuesRefs</code> 객체는 복사를 트리거하지 않고 하나의 DataFrame만 가리키면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df2 <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 50.67437379576107%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAAAAADaLSBnAAAA20lEQVQoz53Su27DMAxA0fz/57VLp6KNA9vxS5YViQ+JZIZ0jGKnHIULCDzgyQ7O6R/hMB8MRY+FmahQjLcQy+NBVfVZODWtAx+ii6giCoEAMVWWics8OhcJka4hffcClTAN/dDNm5lawebzy2ElhKKicC2lCEccR6p9XZi2zH/Lcc5cquDkddfRrWbmf2A37CczU78LLqLKEM4J5HU4/F5m8CEtkUzVOCIiVMHXddn8DRGp26gZtQYe20vbjIuICMP54wW4qBpOIiKcoOur4BmJCB+STMyU37/wOyR0FDjBhtYmAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ref5\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/46iwHfm29GfeSWfKvX58fz/ac17e591224ce0112dbf2f63468c985a/ref5.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/46iwHfm29GfeSWfKvX58fz/ac17e591224ce0112dbf2f63468c985a/ref5.png?w=260 260w,\nhttps://images.ctfassets.net/tushy4jlcik7/46iwHfm29GfeSWfKvX58fz/ac17e591224ce0112dbf2f63468c985a/ref5.png?w=519 519w,\nhttps://images.ctfassets.net/tushy4jlcik7/46iwHfm29GfeSWfKvX58fz/ac17e591224ce0112dbf2f63468c985a/ref5.png?w=1038 1038w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p><code class=\"language-text\">copy</code>를 실행하는 경우는 간단합니다. DataFrame <code class=\"language-text\">df2</code>에 대한 새로운 <code class=\"language-text\">BlockValuesRefs</code>가 즉시 생성되며 데이터를 공유하지 않습니다.</p>\n<br>\n<p><strong>Optimizing inplace copies</strong><br>\n앞서 복사를 트리거하는 시점에 대해 알아보았습니다.<br>\n이번에는 복사본을 최대한 효율적으로 생성하는 방법에 대해 알아보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span></code></pre></div>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 33.489618218352305%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAANCAAAAAD+9HM0AAAAyElEQVQoz43RsXLDIAwG4Lz/y3Xolq1LY9/ZJgUhgUD6O8RNfLhDNP73IZC44M26ACj5nIufoVNWCpmL5JDqnieHw93dAd+hxcRxy1mEtrg3p/VHwkwkktaZ+n410AxY5rkD5QFVKlPizEwpUntCLaokolrl+agKbNM03Rr6qyPMjJp0s9cMRZtmrVWbHCAAtbsex/Rudjfu1g1HqPSdyrgkReiHPT6y5XMaoYSw8gg70yIjvH58yQhhKONvlHSL5QT/KXf43+FfaSL/sGtmZeIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ref6\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/3fJ8S8VGWGaCkq06jPf8zB/835a17c800496fb37b83b3a434f60083/ref6.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/3fJ8S8VGWGaCkq06jPf8zB/835a17c800496fb37b83b3a434f60083/ref6.png?w=373 373w,\nhttps://images.ctfassets.net/tushy4jlcik7/3fJ8S8VGWGaCkq06jPf8zB/835a17c800496fb37b83b3a434f60083/ref6.png?w=747 747w,\nhttps://images.ctfassets.net/tushy4jlcik7/3fJ8S8VGWGaCkq06jPf8zB/835a17c800496fb37b83b3a434f60083/ref6.png?w=1493 1493w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위 예시는 DataFrame에 n개의 정수 컬럼이 있으며 모두 하나의 블록으로 통합되어 있습니다.\n다른 블록에서도 DataFrame을 참조하고 있기 때문에 하나의 값을 수정하기 위해 전체 블록을 복사해야 하는 상황입니다.\n이 방식은 위 그림과 같이 복사할 필요가 없는 n-1개의 컬럼을 복사해야 합니다.\nCoW에서는 이러한 상황을 최적화하기 위해 <code class=\"language-text\">Block Splitting</code>을 추가했습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 48.84135472370767%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAAAAADaLSBnAAAA20lEQVQoz6XSy1LDMAwF0P7/17Fg2EFb2jKljV2a2HpZymUBO5IQBm3kxRnNyLobrKzN32E7jCsnOhAR7hHh7l99ArbLNQudE9d0KsXESn1L1H7CKIWk5H7o75mqidWa+mLTy+jz7rhnANzlVAG0Ng1b3R7VAHD66AoAn4PDQFRMzcibmRrNQNyGsbp76CVEwt3nPjwA+n40W7iMs+rJACi3fF2AfM+5MOAiWczmoe4fns4KBG8fD9LmocjrjgVwTS/vSxNNhEWBkUlu3bgmZg6hVXkMRPw7uL/UJ47PFPx7Y3ZiAAAAOHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueflXeTcAAAAhdEVYdGljYzpkZXNjcmlwdGlvbgBzUkdCIElFQzYxOTY2LTIuMVet2kcAAAAmdEVYdGljYzptYW51ZmFjdHVyZXIASUVDIGh0dHA6Ly93d3cuaWVjLmNoHH8ATAAAADd0RVh0aWNjOm1vZGVsAElFQyA2MTk2Ni0yLjEgRGVmYXVsdCBSR0IgY29sb3VyIHNwYWNlIC0gc1JHQkRTSKkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ref7\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/3hAt9dVwj7X0HOcRNPPKsR/8827b8e9237d7982ba4dd37b31dc596d/ref7.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/3hAt9dVwj7X0HOcRNPPKsR/8827b8e9237d7982ba4dd37b31dc596d/ref7.png?w=281 281w,\nhttps://images.ctfassets.net/tushy4jlcik7/3hAt9dVwj7X0HOcRNPPKsR/8827b8e9237d7982ba4dd37b31dc596d/ref7.png?w=561 561w,\nhttps://images.ctfassets.net/tushy4jlcik7/3hAt9dVwj7X0HOcRNPPKsR/8827b8e9237d7982ba4dd37b31dc596d/ref7.png?w=1122 1122w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위 그림과 같이 <code class=\"language-text\">Block Splitting</code>을 통해 분할되어 내부적으로 첫 번째 컬럼만 복사됩니다.\n다른 모든 컬럼은 이전 배열의 view로 간주되며 새로운 블록은 다른 열과 참조를 공유하지 않습니다.\n이전 블록은 view일 뿐이므로 그대로 다른 객체와 참조를 공유합니다.\n<strong>이 방식은 불필요한 복사를 방지할 수 있지만 이전 블록에 대한 정보에 새로운 블록까지 추가하므로 더 많은 메모리를 사용한다는 단점</strong>이 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"pandas-copy-on-write-mode\" style=\"position:relative;\"><a href=\"#pandas-copy-on-write-mode\" aria-label=\"pandas copy on write mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pandas Copy-on-Write Mode</h2>\n<p>Pandas CoW를 통해 <strong>복사에 대한 지연, 최적화를 통해 빠른 성능</strong>을 얻을 수 있으며\n<strong>DataFrame의 일관된 동작을 보장</strong>할 수 있습니다.\n2.0 버전의 경우, 간단한 설정만 추가하면 <code class=\"language-text\">Copy-on-Write</code> 모드를 사용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pd<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">.</span>mode<span class=\"token punctuation\">.</span>copy_on_write <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span></code></pre></div>\n<p>간단한 체이닝 연산을 통해 수행 시간의 차이를 확인해보면 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span><span class=\"token operator\">%</span>timeit\n<span class=\"token punctuation\">(</span>\n    df<span class=\"token punctuation\">.</span>rename<span class=\"token punctuation\">(</span>columns<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"col_1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"new_index\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>assign<span class=\"token punctuation\">(</span>sum_val<span class=\"token operator\">=</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">\"col_1\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> df<span class=\"token punctuation\">[</span><span class=\"token string\">\"col_2\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>drop<span class=\"token punctuation\">(</span>columns<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"col_10\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"col_20\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"col_5\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"int32\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>reset_index<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span>set_index<span class=\"token punctuation\">(</span><span class=\"token string\">\"new_index\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># without CoW</span>\n<span class=\"token number\">2.45</span> s ± <span class=\"token number\">293</span> ms per loop <span class=\"token punctuation\">(</span>mean ± std<span class=\"token punctuation\">.</span> dev<span class=\"token punctuation\">.</span> of <span class=\"token number\">7</span> runs<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> loop each<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># with CoW</span>\n<span class=\"token number\">13.7</span> ms ± <span class=\"token number\">286</span> µs per loop <span class=\"token punctuation\">(</span>mean ± std<span class=\"token punctuation\">.</span> dev<span class=\"token punctuation\">.</span> of <span class=\"token number\">7</span> runs<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span> loops each<span class=\"token punctuation\">)</span></code></pre></div>\n<p>위 예시에서는 대략 200배 정도 개선되었지만 연산에 따라 결과는 다를 수 있습니다.<br>\n특히 <code class=\"language-text\">drop(axis=1)</code>, <code class=\"language-text\">rename()</code>과 같은 연산에서 큰 성능 향상을 확인하실 수 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ul>\n<li><a href=\"https://realpython.com/pandas-settingwithcopywarning/\">https://realpython.com/pandas-settingwithcopywarning/</a></li>\n<li><a href=\"https://pandas.pydata.org/docs/user_guide/copy_on_write.html\">https://pandas.pydata.org/docs/user_guide/copy_on_write.html</a></li>\n<li><a href=\"https://pandas.pydata.org/pdeps/0007-copy-on-write.html\">https://pandas.pydata.org/pdeps/0007-copy-on-write.html</a></li>\n<li><a href=\"https://phofl.github.io/cow-deep-dive.html\">https://phofl.github.io/cow-deep-dive.html</a></li>\n</ul>","excerpt":"Pandas 2.0 버전부터 가 추가되었으며 3.0 버전부터 기본 값이 활성화로 변경됩니다. 이번 글에서는 Pandas Copy-on-Write…"}}}},{"node":{"title":"Spark on Kubernetes: 커스텀 스케줄러 (2)","id":"8d6b9e00-f4f6-5624-b75c-fabb15be093f","slug":"spark-on-kubernetes-scheduler-2","publishDate":"December 10, 2023","heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":5,"html":"<p>Spark 3.4 버전부터 Customized K8S Scheduler 기능이 GA 되었습니다 👏🏻<br>\n오늘은 <a href=\"https://swalloow.github.io/spark-on-kubernetes-scheduler/\">지난 글</a>에 이어 가장 많이 사용하는 Volcano, Yunikorn 스케줄러에 대해 알아보겠습니다.</p>\n<br>\n<p>3.4 버전 기준으로 Spark에서는 Volcano, Yunikorn 두 가지 커스텀 스케줄러를 공식적으로 지원합니다. 두 가지 오픈소스 모두 네이티브 환경에서 배치 처리를 지원하기 위한 프로젝트이며 최신 버전 기준으로 모두 유사한 기능을 지원하고 있습니다. 먼저 Volcano 부터 살펴보겠습니다.</p>\n<br>\n<h2 id=\"volcano\" style=\"position:relative;\"><a href=\"#volcano\" aria-label=\"volcano permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Volcano</h2>\n<p>초기의 Volcano는 <a href=\"https://github.com/kubernetes-retired/kube-batch\">kube-batch</a> 프로젝트 기반으로 구성되었으나 <strong>1.8 버전부터 쿠버네티스 스케줄러 플러그인 방식을 지원</strong>하게 되었습니다. 스케줄러 플러그인 기반으로 구성한 커스텀 스케줄러는 기본 스케줄러와 호환 가능하며 버전 업데이트 영향도 적게 받는 장점이 있습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 54.88798370672098%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"volcano\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/7jjm2qa7Lu5G5GAtss5ml1/69ea6bbad178093fc0a17036d7799994/volcano.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/7jjm2qa7Lu5G5GAtss5ml1/69ea6bbad178093fc0a17036d7799994/volcano.png?w=491 491w,\nhttps://images.ctfassets.net/tushy4jlcik7/7jjm2qa7Lu5G5GAtss5ml1/69ea6bbad178093fc0a17036d7799994/volcano.png?w=982 982w,\nhttps://images.ctfassets.net/tushy4jlcik7/7jjm2qa7Lu5G5GAtss5ml1/69ea6bbad178093fc0a17036d7799994/volcano.png?w=1964 1964w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Volcano의 주요 컴포넌트는 다음과 같습니다.</p>\n<ul>\n<li><strong>Scheduler</strong>: 여러 스케줄링 알고리즘을 거쳐 가장 적합한 노드에 작업을 할당합니다.</li>\n<li><strong>ControllerManager</strong>: CRD (Queue, PodGroup, VCJob)의 lifecycle을 관리합니다.</li>\n<li><strong>Admission</strong>: CRD API에 대한 유효성 검사를 담당합니다.</li>\n</ul>\n<p>PodGroup을 통해 그룹 단위의 스케줄링이 가능하며, 하나의 Queue에는 여러 개의 PodGroup이 할당될 수 있습니다. 각 PodGroup은 status를 가지고 있어 Pending, Running 등의 상태가 관리됩니다.</p>\n<br>\n<p>스케줄링이 실행되는 워크플로우는 다음과 같습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 46.46878198567042%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"volscheduler\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/46reiOAVOHfNru6XrAmo2V/2908ca18f83a8c4e0ebf208716777ad3/volscheduler.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/46reiOAVOHfNru6XrAmo2V/2908ca18f83a8c4e0ebf208716777ad3/volscheduler.png?w=489 489w,\nhttps://images.ctfassets.net/tushy4jlcik7/46reiOAVOHfNru6XrAmo2V/2908ca18f83a8c4e0ebf208716777ad3/volscheduler.png?w=977 977w,\nhttps://images.ctfassets.net/tushy4jlcik7/46reiOAVOHfNru6XrAmo2V/2908ca18f83a8c4e0ebf208716777ad3/volscheduler.png?w=1954 1954w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<ul>\n<li>client가 제출한 작업을 watch하고 캐싱합니다.</li>\n<li>session을 새로 생성하고 스케줄링 사이클을 시작합니다.</li>\n<li>캐시에 예약되지 않은 작업은 session의 대기열로 보냅니다.</li>\n<li>필요한 작업을 순회하면서 순서대로 스케줄링 단계를 실행하고 적합한 노드를 찾습니다.</li>\n<li>작업을 노드에 바인딩합니다.</li>\n<li>세션을 종료합니다.</li>\n</ul>\n<br>\n<p><strong>Volcano 적용 과정</strong><br>\nVolcano 적용을 위해 필요한 단계는 다음과 같습니다.</p>\n<ol>\n<li>Volcano 환경 및 리소스 배포</li>\n<li>Spark Volcano 이미지 빌드 및 배포</li>\n<li>Spark configuration 전달</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Specify volcano scheduler and PodGroup template\n--conf spark.kubernetes.scheduler.name=volcano\n--conf spark.kubernetes.scheduler.volcano.podGroupTemplateFile=/path/to/podgroup-template.yaml\n# Specify driver/executor VolcanoFeatureStep\n--conf spark.kubernetes.driver.pod.featureSteps=org.apache.spark.deploy.k8s.features.VolcanoFeatureStep\n--conf spark.kubernetes.executor.pod.featureSteps=org.apache.spark.deploy.k8s.features.VolcanoFeatureStep</code></pre></div>\n<p><br><br></p>\n<h2 id=\"apache-yunikorn\" style=\"position:relative;\"><a href=\"#apache-yunikorn\" aria-label=\"apache yunikorn permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Apache Yunikorn</h2>\n<p>Yunikorn은 Volcano보다 뒤늦게 시작된 Apache 프로젝트입니다.\n컨테이너 오케스트레이션을 위한 경량의 범용 스케줄러를 지향하고 있으며 대부분의 스케줄링 알고리즘도 지원하고 있습니다.\n또한 Volcano와 동일하게 스케줄러 플러그인 방식을 지원합니다. 추가로 Yunikorn은 조직 단위로 리소스 관리가 가능하도록 <strong>계층 구조의 큐를 지원</strong>합니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 60.01517450682853%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"yunikorn\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/fe5LddmNsJwbIKhu0h4LX/33623a3bbfe6bd346231461938c7b873/yunikorn.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/fe5LddmNsJwbIKhu0h4LX/33623a3bbfe6bd346231461938c7b873/yunikorn.png?w=330 330w,\nhttps://images.ctfassets.net/tushy4jlcik7/fe5LddmNsJwbIKhu0h4LX/33623a3bbfe6bd346231461938c7b873/yunikorn.png?w=659 659w,\nhttps://images.ctfassets.net/tushy4jlcik7/fe5LddmNsJwbIKhu0h4LX/33623a3bbfe6bd346231461938c7b873/yunikorn.png?w=1318 1318w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Yunikorn의 주요 컴포넌트는 다음과 같습니다.</p>\n<ul>\n<li><strong>Scheduler Interface</strong>: 다른 리소스 플랫폼(K8S, YARN)과 통신을 위한 인터페이스</li>\n<li><strong>Scheduler Core</strong>: 스케줄링 알고리즘 구현, 메트릭 수집, 컨테이너 할당 요청</li>\n<li><strong>Kubernetes Shim</strong>: 쿠버네티스와 통신을 담당, Pod를 특정 노드에 바인딩하는 역할</li>\n<li><strong>Admission Controller</strong>: mutation, validation hook을 담당</li>\n</ul>\n<p>Yunikorn은 Volcano와 달리 추가로 배포되는 CRD가 없습니다.<br>\n큐와 알고리즘 등 관련 설정은 모두 Yunikorn 배포에 포함됩니다.<br>\n간단한 Yunikorn 설정 파일 예시는 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">partitions</span><span class=\"token punctuation\">:</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> default\n  <span class=\"token key atrule\">nodesortpolicy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> binpacking\n  <span class=\"token key atrule\">queues</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> root\n      <span class=\"token key atrule\">submitacl</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'*'</span>\n      <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">application.sort.policy</span><span class=\"token punctuation\">:</span> fifo\n        <span class=\"token key atrule\">application.sort.priority</span><span class=\"token punctuation\">:</span> disabled\n      <span class=\"token key atrule\">queues</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> prod\n          <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">guaranteed</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 300G\n              <span class=\"token key atrule\">vcore</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span>\n            <span class=\"token key atrule\">max</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 600G\n              <span class=\"token key atrule\">vcore</span><span class=\"token punctuation\">:</span> <span class=\"token number\">60</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> stage\n          <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">guaranteed</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 100G\n              <span class=\"token key atrule\">vcore</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>\n            <span class=\"token key atrule\">max</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">memory</span><span class=\"token punctuation\">:</span> 200G\n              <span class=\"token key atrule\">vcore</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span></code></pre></div>\n<p>위와 같이 prod, stage 등 여러 개의 큐를 계층형으로 생성할 수 있습니다.<br>\n스케줄링 정책은 크게 <strong>node sorting 단계와 application sorting 단계</strong>로 나누어집니다.<br>\ngang scheduling을 사용하는 경우, application sorting은 항상 fifo를 사용해야 합니다.</p>\n<p>Yunikorn에서 Gang Scheduling이 실행되는 단계는 다음과 같습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 67.26825266611976%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAbCAMAAAA5zj1cAAAA1VBMVEX////+/v76+vr5+fn4+Pjz8/P8/Pz7+/vy8vL9/f309PT//f379PL7+vry7ev39/f19fXr6+v29vbu7u7x8fH28fD28e/5+vrt7e3//fzx7+/09fX38/L69vX8/f38/P368/Hu6Ofu7+/v7+/w8PD29fX19fbv7u326+n+/Pz+///5+Pj08fD4+fnv6un17On08/P49vb19PT7/Pz6+Pfz6OXz9PTs7Oz6+fn39PPo6Oj9/v7s6+v08PDt7Oz27er9/Pv39/jz7+706uj5+Pf++vnp6en70y1XAAACAUlEQVQ4y3VS13bVQAyURrJ0tRBWWRu4tARi0xJ6C4Re//+TeLjN9xzQ23jHM9qZJSIiZmamzfwfQSCArqEAAHR9pnMEos7IN0TiRZBsRIgLkxDRpcsEuLhtNMRN3LeK7mt0cKVqzcMm4hBVN0jtPYKIiYgirM02ppQIM4iYWfigENGS7eq162jLFPUt0XY/0Y2b6e5e8tbtO0fHPlSX7XGZE+/eOyklN7FE2XwfJ0E/tswsXVdaa/eXid3oWNeJdiAqBYI2jX0RlQcPHz0+ZY6IYGYrZ6vLMIioza1peHL2VOo0jp2otGfPT1dEIaKuAwDNJgBkcGYOB4yZj1+8nHU2dqqqtbWqqrXPWmvLzFZrfdXLzKzF3LrAzCCi7q/fvO3f1d1mpZm7iSrMzc+LA6i1ieP9h0HNt92UAqAM07QQQb3AxwhRrRJHId3cLJut3Nws7NPnA/c2jX0CpgujXdndQlVzGMdU1fbl6zdmXsXIMY65Kq4/+V6XDSJaa1MRqUudN9PnSuz0x8/DaVJ3d1GFu8sQtFUkS6yb+fXbPYUjOMyCmWNMUdWu65qo5gKzCstCVHOYpk5V2kVxQFpLBaBlTkyJTSDB/qeaew7TmO7e9hU7iMhe1+xAMPNuRzWzoWjVNgxTqmqew3aDoa5jjIgYJHZjE2bIp/kT3HuO/0R/AfxGIA5PvE1uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"yunikorn-gang\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/5rzxgIdISp0NOs4N4BDifk/eaf08f7d78d3d83880be55951ee0afa0/yunikorn-gang.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/5rzxgIdISp0NOs4N4BDifk/eaf08f7d78d3d83880be55951ee0afa0/yunikorn-gang.png?w=305 305w,\nhttps://images.ctfassets.net/tushy4jlcik7/5rzxgIdISp0NOs4N4BDifk/eaf08f7d78d3d83880be55951ee0afa0/yunikorn-gang.png?w=610 610w,\nhttps://images.ctfassets.net/tushy4jlcik7/5rzxgIdISp0NOs4N4BDifk/eaf08f7d78d3d83880be55951ee0afa0/yunikorn-gang.png?w=1219 1219w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<ul>\n<li>TaskGroup이 정의된 application을 submit 합니다.</li>\n<li>Shim이 application을 생성하고 이를 Core(Kube scheduler)에 전달합니다.</li>\n<li>Shim은 TaskGroup의 각 member에 대한 placeholder pod를 생성합니다. spark의 경우, member는 driver, executor가 될 수 있습니다.</li>\n<li>pod가 정상적으로 생성되고 나면 AllocationAsks로 처리되어 Core에 전달됩니다.</li>\n<li>placeholder는 Core를 통해 적절한 노드에 바인딩됩니다.</li>\n<li>이제 실제 pod가 AllocationAsk로 Core에 전달됩니다.</li>\n<li>실제 pod와 모든 placeholder pod가 스케줄링 완료된 이후 Shim은 실제 pod를 바인딩합니다.</li>\n</ul>\n<br>\n<p><strong>Yunikorn 적용 과정</strong><br>\nYunikorn 적용을 위해 필요한 단계는 다음과 같습니다.<br>\nYunikorn의 경우 annotation 설정을 사용합니다.</p>\n<ol>\n<li>Yunikorn 환경 및 설정 배포</li>\n<li>Spark configuration 전달</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">--conf spark.kubernetes.scheduler.name=yunikorn\n--conf spark.kubernetes.driver.label.queue=root.default\n--conf spark.kubernetes.executor.label.queue=root.default\n--conf spark.kubernetes.driver.annotation.yunikorn.apache.org/app-id={{APP_ID}}\n--conf spark.kubernetes.executor.annotation.yunikorn.apache.org/app-id={{APP_ID}}</code></pre></div>\n<p><br><br></p>\n<h2 id=\"volcano-vs-apache-yunikorn\" style=\"position:relative;\"><a href=\"#volcano-vs-apache-yunikorn\" aria-label=\"volcano vs apache yunikorn permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Volcano vs Apache Yunikorn</h2>\n<p>앞서 살펴 본 내용을 통해 각 스케줄러의 장단점을 정리해보면 다음과 같습니다.<br>\n모두 Helm 차트를 지원하므로 쉽게 구성할 수 있습니다.<br></p>\n<p><strong>Volcano</strong><br>\n장점: Kubeflow에 대한 지원<br>\n단점: spark 이미지 빌드, CRD 단위로 관리가 필요</p>\n<br>\n<p><strong>Yunikorn</strong><br>\n장점: 작업 상태를 확인할 수 있는 Web UI 지원<br>\n장점: 경량화되어 있으며 계층 구조의 큐를 지원<br>\n장점: 추가로 필요한 부분이 적어 운영이 편리<br>\n단점: 주요 설정은 모두 있으나 Volcano 대비 적은 옵션 지원</p>\n<p><br><br></p>\n<h2 id=\"운영을-하면서-마주칠-수-있는-부분들\" style=\"position:relative;\"><a href=\"#%EC%9A%B4%EC%98%81%EC%9D%84-%ED%95%98%EB%A9%B4%EC%84%9C-%EB%A7%88%EC%A3%BC%EC%B9%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EB%B6%80%EB%B6%84%EB%93%A4\" aria-label=\"운영을 하면서 마주칠 수 있는 부분들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>운영을 하면서 마주칠 수 있는 부분들</h2>\n<p>다음은 적용한 이후에 운영을 하다보면 마주칠 수 있는 이슈 또는 고민을 정리해보았습니다.<br></p>\n<p><strong>placeholder 리소스 설정</strong><br>\napplication submit 시 placeholder에 할당할 리소스 사이즈 결정이 필요합니다.\nplaceholder를 작게 설정하면 리소스 확보가 안되어 스케줄링에 영향이 있을 수 있고 지나치게 크게 설정하면 실제로 여유가 있음에도 리소스 부족 현상 발생할 수 있습니다. <a href=\"https://github.com/GoogleCloudPlatform/spark-on-k8s-operator\">spark-on-k8s-operator</a>를 사용한다면 스케줄러에 따라 placeholder 사이즈를 결정하는 로직이 포함되어 있으니 편하게 적용이 가능합니다.</p>\n<p><strong>큐 사이즈 조정</strong><br>\n만약 큐의 리소스 제한보다 요청한 리소스가 크다면 application reject이 발생하여 실행이 불가능합니다. 또한 큐의 크기가 전체적으로 작은 경우, 신규 요청한 어플리케이션이 빈번하게 대기하는 상황도 발생할 수 있습니다. 스케줄러에서 Prometheus 메트릭을 제공하니 Grafana를 통해 모니터링 후 적절한 큐 사이즈로 설정하는 과정이 필요합니다.</p>\n<p><strong>Spark Dynamic Resource Allocation을 사용하는 경우</strong><br>\n큐에서 이미 실행 중인 application은 리소스 확장도 가능합니다.\n따라서 Spark의 Dynamic Resource Allocation을 많이 사용한다면 미리 설정해둔 제한을 크게 넘어갈 수도 있습니다. 이러한 경우, 큐를 사용하는 의미가 사라지게 됩니다.</p>\n<p><strong>Application Cleanup 관련</strong><br>\n상황에 따라 application이 accepted 또는 waiting 상태에서 계속 머무르는 이슈가 발생할 수 있습니다. 이처럼 placeholder가 할당되지 못하는 경우, 스케줄러에서 timeout 설정을 통해 실패 처리되어야 다음 작업이 원활하게 진행될 수 있습니다. 만약 좀비 상태로 placeholder가 남는다면 core에서 확인 후 GC를 통해 정리됩니다.</p>\n<p><br><br></p>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p>두 가지 스케줄러 모두 범용적으로 많이 사용되고 있어 운영 중인 환경에 따라 선택하시면 좋을 것 같습니다.<br>각 스케줄러에 대한 자세한 내용은 아래의 공식문서에서 찾아보실 수 있습니다!</p>\n<ul>\n<li><a href=\"https://yunikorn.apache.org/docs/\">https://yunikorn.apache.org/docs/</a></li>\n<li><a href=\"https://volcano.sh/en/\">https://volcano.sh/en/</a></li>\n</ul>","excerpt":"Spark 3.4 버전부터 Customized K8S Scheduler 기능이 GA…"}}}},{"node":{"title":"Spark on Kubernetes: 커스텀 스케줄러 (1)","id":"daa589cd-f055-5aef-94ee-0b0b8d1505a0","slug":"spark-on-kubernetes-scheduler","publishDate":"June 08, 2023","heroImage":{"title":"cover-dataengineering","gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&q=50&fm=webp 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&q=50&fm=webp 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&q=50&fm=webp 1600w","sizes":"(min-width: 1600px) 1600px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=400&h=267&fl=progressive&q=50&fm=jpg 400w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=800&h=533&fl=progressive&q=50&fm=jpg 800w,\nhttps://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1600&h=1067&fl=progressive&q=50&fm=jpg 1600w","sizes":"(min-width: 1600px) 1600px, 100vw"}},"layout":"constrained","width":1800,"height":1200,"placeholder":{"fallback":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwb/xAAcEAACAgMBAQAAAAAAAAAAAAAAAQIREiFBMeH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDK1DF0vgjileglOuFeTk6fC2ZH6BKV7ugEP//Z"}},"ogimg":{"src":"https://images.ctfassets.net/tushy4jlcik7/7uo9TsqFN9EBsDBqDJ5vXl/4c58a9f94babb15d8fd996c247737656/cover_dataengineering.jpg?w=1800&q=50"}},"body":{"childMarkdownRemark":{"timeToRead":3,"html":"<p>Spark 3.4 버전부터 Customized K8S Scheduler 기능이 GA 되었습니다 👏🏻<br>\n그래서 오늘은 커스텀 스케줄러가 왜 필요하고 어떻게 적용할 수 있는지 정리해보려고 합니다.</p>\n<p><br><br></p>\n<h2 id=\"spark-kubernetes-scheduling\" style=\"position:relative;\"><a href=\"#spark-kubernetes-scheduling\" aria-label=\"spark kubernetes scheduling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark Kubernetes Scheduling</h2>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 57.66526019690576%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAXCAMAAABODP0nAAAABGdBTUEAALGPC/xhBQAACilpQ0NQaWNjAABIiZ2Wd1RT2RaHz703vVCSEIqU0GtoUgJIDb1IkS4qMQkQSsCQACI2RFRwRFGRpggyKOCAo0ORsSKKhQFRsesEGUTUcXAUG5ZJZK0Z37x5782b3x/3fmufvc/dZ+991roAkPyDBcJMWAmADKFYFOHnxYiNi2dgBwEM8AADbADgcLOzQhb4RgKZAnzYjGyZE/gXvboOIPn7KtM/jMEA/5+UuVkiMQBQmIzn8vjZXBkXyTg9V5wlt0/JmLY0Tc4wSs4iWYIyVpNz8ixbfPaZZQ858zKEPBnLc87iZfDk3CfjjTkSvoyRYBkX5wj4uTK+JmODdEmGQMZv5LEZfE42ACiS3C7mc1NkbC1jkigygi3jeQDgSMlf8NIvWMzPE8sPxc7MWi4SJKeIGSZcU4aNkxOL4c/PTeeLxcwwDjeNI+Ix2JkZWRzhcgBmz/xZFHltGbIiO9g4OTgwbS1tvijUf138m5L3dpZehH/uGUQf+MP2V36ZDQCwpmW12fqHbWkVAF3rAVC7/YfNYC8AirK+dQ59cR66fF5SxOIsZyur3NxcSwGfaykv6O/6nw5/Q198z1K+3e/lYXjzkziSdDFDXjduZnqmRMTIzuJw+Qzmn4f4Hwf+dR4WEfwkvogvlEVEy6ZMIEyWtVvIE4gFmUKGQPifmvgPw/6k2bmWidr4EdCWWAKlIRpAfh4AKCoRIAl7ZCvQ730LxkcD+c2L0ZmYnfvPgv59V7hM/sgWJH+OY0dEMrgSUc7smvxaAjQgAEVAA+pAG+gDE8AEtsARuAAP4AMCQSiIBHFgMeCCFJABRCAXFIC1oBiUgq1gJ6gGdaARNIM2cBh0gWPgNDgHLoHLYATcAVIwDp6AKfAKzEAQhIXIEBVSh3QgQ8gcsoVYkBvkAwVDEVAclAglQ0JIAhVA66BSqByqhuqhZuhb6Ch0GroADUO3oFFoEvoVegcjMAmmwVqwEWwFs2BPOAiOhBfByfAyOB8ugrfAlXADfBDuhE/Dl+ARWAo/gacRgBAROqKLMBEWwkZCkXgkCREhq5ASpAJpQNqQHqQfuYpIkafIWxQGRUUxUEyUC8ofFYXiopahVqE2o6pRB1CdqD7UVdQoagr1EU1Ga6LN0c7oAHQsOhmdiy5GV6Cb0B3os+gR9Dj6FQaDoWOMMY4Yf0wcJhWzArMZsxvTjjmFGcaMYaaxWKw61hzrig3FcrBibDG2CnsQexJ7BTuOfYMj4nRwtjhfXDxOiCvEVeBacCdwV3ATuBm8Et4Q74wPxfPwy/Fl+EZ8D34IP46fISgTjAmuhEhCKmEtoZLQRjhLuEt4QSQS9YhOxHCigLiGWEk8RDxPHCW+JVFIZiQ2KYEkIW0h7SedIt0ivSCTyUZkD3I8WUzeQm4mnyHfJ79RoCpYKgQo8BRWK9QodCpcUXimiFc0VPRUXKyYr1iheERxSPGpEl7JSImtxFFapVSjdFTphtK0MlXZRjlUOUN5s3KL8gXlRxQsxYjiQ+FRiij7KGcoY1SEqk9lU7nUddRG6lnqOA1DM6YF0FJppbRvaIO0KRWKip1KtEqeSo3KcRUpHaEb0QPo6fQy+mH6dfo7VS1VT1W+6ibVNtUrqq/V5qh5qPHVStTa1UbU3qkz1H3U09S3qXep39NAaZhphGvkauzROKvxdA5tjssc7pySOYfn3NaENc00IzRXaO7THNCc1tLW8tPK0qrSOqP1VJuu7aGdqr1D+4T2pA5Vx01HoLND56TOY4YKw5ORzqhk9DGmdDV1/XUluvW6g7ozesZ6UXqFeu169/QJ+iz9JP0d+r36UwY6BiEGBQatBrcN8YYswxTDXYb9hq+NjI1ijDYYdRk9MlYzDjDON241vmtCNnE3WWbSYHLNFGPKMk0z3W162Qw2szdLMasxGzKHzR3MBea7zYct0BZOFkKLBosbTBLTk5nDbGWOWtItgy0LLbssn1kZWMVbbbPqt/pobW+dbt1ofceGYhNoU2jTY/OrrZkt17bG9tpc8lzfuavnds99bmdux7fbY3fTnmofYr/Bvtf+g4Ojg8ihzWHS0cAx0bHW8QaLxgpjbWadd0I7eTmtdjrm9NbZwVnsfNj5FxemS5pLi8ujecbz+PMa54256rlyXOtdpW4Mt0S3vW5Sd113jnuD+wMPfQ+eR5PHhKepZ6rnQc9nXtZeIq8Or9dsZ/ZK9ilvxNvPu8R70IfiE+VT7XPfV8832bfVd8rP3m+F3yl/tH+Q/zb/GwFaAdyA5oCpQMfAlYF9QaSgBUHVQQ+CzYJFwT0hcEhgyPaQu/MN5wvnd4WC0IDQ7aH3wozDloV9H44JDwuvCX8YYRNRENG/gLpgyYKWBa8ivSLLIu9EmURJonqjFaMTopujX8d4x5THSGOtYlfGXorTiBPEdcdj46Pjm+KnF/os3LlwPME+oTjh+iLjRXmLLizWWJy++PgSxSWcJUcS0YkxiS2J7zmhnAbO9NKApbVLp7hs7i7uE54Hbwdvku/KL+dPJLkmlSc9SnZN3p48meKeUpHyVMAWVAuep/qn1qW+TgtN25/2KT0mvT0Dl5GYcVRIEaYJ+zK1M/Myh7PMs4qzpMucl+1cNiUKEjVlQ9mLsrvFNNnP1IDERLJeMprjllOT8yY3OvdInnKeMG9gudnyTcsn8n3zv16BWsFd0VugW7C2YHSl58r6VdCqpat6V+uvLlo9vsZvzYG1hLVpa38otC4sL3y5LmZdT5FW0ZqisfV+61uLFYpFxTc2uGyo24jaKNg4uGnupqpNH0t4JRdLrUsrSt9v5m6++JXNV5VffdqStGWwzKFsz1bMVuHW69vctx0oVy7PLx/bHrK9cwdjR8mOlzuX7LxQYVdRt4uwS7JLWhlc2V1lULW16n11SvVIjVdNe61m7aba17t5u6/s8djTVqdVV1r3bq9g7816v/rOBqOGin2YfTn7HjZGN/Z/zfq6uUmjqbTpw37hfumBiAN9zY7NzS2aLWWtcKukdfJgwsHL33h/093GbKtvp7eXHgKHJIcef5v47fXDQYd7j7COtH1n+F1tB7WjpBPqXN451ZXSJe2O6x4+Gni0t8elp+N7y+/3H9M9VnNc5XjZCcKJohOfTuafnD6Vderp6eTTY71Leu+ciT1zrS+8b/Bs0Nnz53zPnen37D953vX8sQvOF45eZF3suuRwqXPAfqDjB/sfOgYdBjuHHIe6Lztd7hmeN3ziivuV01e9r567FnDt0sj8keHrUddv3ki4Ib3Ju/noVvqt57dzbs/cWXMXfbfkntK9ivua9xt+NP2xXeogPT7qPTrwYMGDO2PcsSc/Zf/0frzoIflhxYTORPMj20fHJn0nLz9e+Hj8SdaTmafFPyv/XPvM5Nl3v3j8MjAVOzX+XPT806+bX6i/2P/S7mXvdNj0/VcZr2Zel7xRf3PgLett/7uYdxMzue+x7ys/mH7o+Rj08e6njE+ffgP3hPP78QcZjQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABuVBMVEX////7/P+0wPLK0vX+/v39/fz8/Pz9/f309f1khumVp+v29vb39/b39/fp6/fs7vX4+Pf4+Pj7+/n4+Pb5+Pf5+ff5+fnj5vTP1fLr7fX19fXz8/Lk5e3EzfTa4PnFzvP19fb39vby8vLy8vHl5/C5xPPL0/e+yPL19fT39/XP0+Wzu+Lf4ev09Pbz9Pb49/f09PTv7+zr6+rz8u/b4fTI0vPl6fXH0fCwwO/K0/DS2PPY3fT29vfR1/TAyvPc4PXn6vTG0fTL1fXG0PLt7u/s6+vs7Ovq6urv7u3f4emDoenE0PSIpOnp6vDx8fDx8O/d3+jq7vzAyfLq6+/u7uzb3enGz/Xq7fzByvPy8/bBzfGjt+7V3PPi4uLl5eXj4+Pv7+7z9PWitextlOinue3y8/W6xPCotvDEzPH09PPx8vW3wvCpt/DHz/Hp6u7W2OL09PX08/Lg4ePQ1OHi4+X29fTm5+rP0t7u7vD5+fj29vTd3uHS1N7o6Ojy8fDz8vH19PTu7/Th5PLz8/Xt7vLEzfPI0PbM0/Pc3+rByvTh5vu+x/LCyeqgr+jV2u7n5+Xk5OPt7Ov6+voSxg+BAAABaUlEQVQoz2NgoAVgZGJmYWXDDdhhCjk4ubh5uHEDXriRfPwCOBTy8AAlBOEKhYR5sCrk5RURBRqBUCiGw0peAXEJSQGCCnmlpGVk5eQVeFAVKkKlFXkUoa7jVVJWUVVTR1UIFAY7E0jzAllgildJQ1NLW0dEEVkhL4+uAEiOV0BAT0QfROsKCCgZ8BgaGaO4kUfBxNRMQEBAUIDX3MISqI7bSt1aQFrDxtbOXgDZRGEHRydnF1c3dw9PL28fXz//ANnAoGCjkNCw8Ag9ZDfyREZFx/jFxsUnJCYlpwBdmpqWnsGtlJmVnZPLi+IZkbz8AgFBICgsKi4p5eUVLSuvqJTWqKquqUUNR16NOrBHgWFXrwwMaV7FKmDwNIg2NjWjKQQBcGRAWGBSSbmlta2dFy3AeeDxxgtjSPl1dHZ16/EQjEJeAe6e3j4Rggq5eXg1+idM5CWceoCGCgjwIifcSYI4QSUQi5GUsQCKQ0YB3KdYJgAAADh0RVh0aWNjOmNvcHlyaWdodABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1QYWNrYXJkIENvbXBhbnn5V3k3AAAAIXRFWHRpY2M6ZGVzY3JpcHRpb24Ac1JHQiBJRUM2MTk2Ni0yLjFXrdpHAAAAJnRFWHRpY2M6bWFudWZhY3R1cmVyAElFQyBodHRwOi8vd3d3LmllYy5jaBx/AEwAAAA3dEVYdGljYzptb2RlbABJRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0JEU0ipAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"spark-k8s\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/3rf4qupMJ99w5THRe8OkYy/3f71d3caf42909aaf305df3d5a64836e/spark-k8s.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/3rf4qupMJ99w5THRe8OkYy/3f71d3caf42909aaf305df3d5a64836e/spark-k8s.png?w=356 356w,\nhttps://images.ctfassets.net/tushy4jlcik7/3rf4qupMJ99w5THRe8OkYy/3f71d3caf42909aaf305df3d5a64836e/spark-k8s.png?w=711 711w,\nhttps://images.ctfassets.net/tushy4jlcik7/3rf4qupMJ99w5THRe8OkYy/3f71d3caf42909aaf305df3d5a64836e/spark-k8s.png?w=1422 1422w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>쿠버네티스 환경에서 spark-submit을 실행하면 pod가 실행되는 순서는 다음과 같습니다.</p>\n<ul>\n<li>spark-submit 명령어 실행</li>\n<li>Kube API를 통해 driver pod 생성</li>\n<li>driver pod → API Server에 executor 생성 요청</li>\n<li>Kube API를 통해 executor pod 생성</li>\n</ul>\n<p>위와 같이 driver가 executor를 관리함에 따라 동적으로 리소스를 확장할 수 있지만\ndriver가 생성되기 전까지 전체 executor에 필요한 리소스를 알 수 없다는 단점이 있습니다.\n이러한 이유로 클러스터 내에 리소스가 고갈된 상황에서 성능 문제가 발생할 수 있습니다.</p>\n<br>\n<p><strong>클러스터 내에 리소스가 고갈된 경우</strong><br>\n<span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 57.38461538461538%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"allo1\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/5hTv6QcJdxi9F4JDlfuX4K/4a9eafde5ae7f235163148ffd7de6e2c/allo1.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/5hTv6QcJdxi9F4JDlfuX4K/4a9eafde5ae7f235163148ffd7de6e2c/allo1.png?w=325 325w,\nhttps://images.ctfassets.net/tushy4jlcik7/5hTv6QcJdxi9F4JDlfuX4K/4a9eafde5ae7f235163148ffd7de6e2c/allo1.png?w=650 650w,\nhttps://images.ctfassets.net/tushy4jlcik7/5hTv6QcJdxi9F4JDlfuX4K/4a9eafde5ae7f235163148ffd7de6e2c/allo1.png?w=1300 1300w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>클러스터의 리소스 풀이 요청 받은 리소스보다 부족한 상황이라고 가정해보겠습니다.\n위 그림에서 녹색은 실제로 노드에 할당되어 running 중인 pod, 빨간색은 리소스가 부족으로 인해 pending 상태의 pod 입니다.</p>\n<p>각 앱은 리소스 경쟁에 의해 driver와 executor 1개씩 정상적으로 생성되어 3개의 앱이 실행 중인 상태입니다. 하지만 3개의 앱은 executor 리소스를 확보하지 못했기 때문에 작업을 완료할 수 없습니다. EKS 환경이라면 노드 리소스를 확보하더라도 VPC IP 고갈 문제로 인해 이러한 상황을 충분히 마주칠 수 있습니다.</p>\n<br>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 60.129659643435986%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"allo2\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/6U6rRqyACQNSOLT8tqXN40/5d69b571b23d34fdeac29a067e680ecc/allo2.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/6U6rRqyACQNSOLT8tqXN40/5d69b571b23d34fdeac29a067e680ecc/allo2.png?w=309 309w,\nhttps://images.ctfassets.net/tushy4jlcik7/6U6rRqyACQNSOLT8tqXN40/5d69b571b23d34fdeac29a067e680ecc/allo2.png?w=617 617w,\nhttps://images.ctfassets.net/tushy4jlcik7/6U6rRqyACQNSOLT8tqXN40/5d69b571b23d34fdeac29a067e680ecc/allo2.png?w=1234 1234w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위와 같이 리소스 내에서 가능한 앱이 정상적으로 실행, 종료되고 나머지는 대기하는게 더 효율적이라고 볼 수 있습니다.\n쿠버네티스에서는 기본 스케줄러가 배치 작업에 최적화된 형태가 아니기 때문에 위와 같은 문제가 발생할 수 있습니다. 이를 해결하기 위해 <code class=\"language-text\">kube-batch</code>, <code class=\"language-text\">volcano</code>, <code class=\"language-text\">yunikorn</code> 등의 커스텀 배치 스케줄러가 개발되었습니다.</p>\n<p><br><br></p>\n<h2 id=\"spark-app-aware-scheduling\" style=\"position:relative;\"><a href=\"#spark-app-aware-scheduling\" aria-label=\"spark app aware scheduling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark App-aware Scheduling</h2>\n<p>기본 스케줄러는 <code class=\"language-text\">filtering</code>, <code class=\"language-text\">scoring</code> 과정을 거쳐 pod가 실행될 최적의 노드를 찾습니다. 이 때 스케줄 단위는 pod 입니다. 반면 대용량 배치 작업에서는 동시에 수 백개의 pod가 생성되기도 합니다. 또한 동시에 여러 작업이 실행되기 때문에 우선순위, 조직 별 리소스 제한 등을 고려해서 안정적으로 작업을 마치기 위한 대기열이 필요합니다.</p>\n<p>커스텀 배치 스케줄러에서는 이를 해결하기 위해 <strong>앱 단위로 스케줄을 결정하는 App-aware 방식을 사용</strong>합니다. 뿐만 아니라 대용량 배치 작업을 위해 Job Ordering, Hierarchy Resource Queue, Node Sorting 단계에서 다양한 스케줄링 알고리즘을 지원합니다.</p>\n<p><strong>Bin Packing</strong><br>\n<span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 30.321406913280775%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAMCAMAAAAnHQ9/AAACWFBMVEX////6+/78/P/6+v739//z9P/09P/29v/8/Pna3vZkg+xohuxiguve4vmuv+aNrdKSsNSPrtKkuOL8+/jW2/cAV+gAXekAVujY3fn//v+4z9Gy2J622aK02Z6xzMn7+//9/PnX3PcEX+koZekAXunZ3vm5z9Oz16K32ae12KKyzcrr6+vh4eHh4ODu7u749/QIX+kGX+na3/q12KTD37i32aayzcv8+//y8vLl5eX5+fn8/Pg7beoWYOqz2KO726622aSzzcv4+v/+//79//39/v39/PjX3PgAX+s+dO1Ade0IY+10p7CPwIuSwpeBuIbG28j4+Pj7+/u50dOz26O23Ke43aeYwbWwxru/z8C9zr+zyrbu9O/7+/jV2vVJW95TYd1XY99VYuEAiIMAlwAAmhgAjACnyav59/nf39/k5OT+/v60wtWpvKesv6yvwKyJqbK1wMLU1NfS0ta0wrjp8erg2+3GN2TUSlLUS1XJRG5jjHJloABknABVlwCyzbD9/P74+Pnz8/P09PT+///GlrvQHz7TSlzUOFClYIept57CwqfBwKWquJTj3O3QJTfiYkbjZk7QNEqzlWr2uAD1vULsrQDS07L9///LlbPbIwDjcWLgRCewW3LYrCH0uh30tgDWrQDg3fC6RoPGUXnHVXy5TYqrmHfsuBrrvEvjrgDP1LTAm8TDPXHGV3/HTnufaZTRrj3suz7ruDTQry73+v/g5fvh6Pzi6P3h5/7i7ezo7+Ln7uPl7ODv9fHp7v3h5vvi6P7h6frm7+Xo7uPn7ePl7eL6/f0Bb49IAAAAvklEQVQY02NkgABGRgbGvwwogIWR8T/TTzgPTHIwghQyfkZRyAUUZPz9D0UhNxaFkiB1jLwPURTyQhS+QDGRB6TwK8JqbRD/E99noGpUN4JVIpnICzLr0xdJBoRuKAA5iNGZkXE32LdgITdGONjAEMi4DuxGK7jYErgbxREKMy5IMGZPBYo9l4SLITyzuAyh0hPqqRa4yAuEQgYJuGgmzIUiWBWKoFgDBm80UISgElvhCp3gKvcz/uCEiFkCeQABXSGMGMbmpAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"bin1-side\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/3xq1IvNaIvGo5GFGfrSFMe/54bbe46c1b6d52eba037c74c98830f16/bin1-side.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/3xq1IvNaIvGo5GFGfrSFMe/54bbe46c1b6d52eba037c74c98830f16/bin1-side.png?w=412 412w,\nhttps://images.ctfassets.net/tushy4jlcik7/3xq1IvNaIvGo5GFGfrSFMe/54bbe46c1b6d52eba037c74c98830f16/bin1-side.png?w=825 825w,\nhttps://images.ctfassets.net/tushy4jlcik7/3xq1IvNaIvGo5GFGfrSFMe/54bbe46c1b6d52eba037c74c98830f16/bin1-side.png?w=1649 1649w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>Node Sorting 단계를 예시로 들어보겠습니다.\n기본 스케줄러에서 driver, executor pod가 여러 노드에 고르게 분산하면 앱은 네트워크 지연, 셔플 시 원격에서 데이터를 가져와야 하는 상황이 발생합니다.</p>\n<p>이 때 테트리스처럼 <strong>Bin Packing 방식을 적용한다면 어플리케이션을 최대한 가깝게 할당</strong>할 수 있습니다. 클라우드 환경에서 이를 적용하면 노드 scale-in도 원활하게 수행할 수 있습니다.</p>\n<p><br><br></p>\n<h2 id=\"spark-gang-scheduling\" style=\"position:relative;\"><a href=\"#spark-gang-scheduling\" aria-label=\"spark gang scheduling permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark Gang Scheduling</h2>\n<p>앞서 리소스가 고갈된 상황의 경우, Gang Scheduling을 사용한다면 안정적으로 작업을 실행할 수 있습니다. 노드가 0대인 상황에서 앱이 제출되었다고 가정해보겠습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 55.70228091236494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"gang1\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/5OoSnJUq9bkaVk3GvARGZJ/37cf098eb06188b68341765956768a71/gang1.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/5OoSnJUq9bkaVk3GvARGZJ/37cf098eb06188b68341765956768a71/gang1.png?w=417 417w,\nhttps://images.ctfassets.net/tushy4jlcik7/5OoSnJUq9bkaVk3GvARGZJ/37cf098eb06188b68341765956768a71/gang1.png?w=833 833w,\nhttps://images.ctfassets.net/tushy4jlcik7/5OoSnJUq9bkaVk3GvARGZJ/37cf098eb06188b68341765956768a71/gang1.png?w=1666 1666w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위의 그림은 기본 스케줄러를 적용했을 때 모습입니다.<br>\n필요한 최소 리소스가 미리 정해져있으나 노드 생성까지 대기 시간이 발생합니다.</p>\n<ul>\n<li>driver 리소스 요청 → 1대 생성</li>\n<li>executor 리소스 요청 → 2대 생성</li>\n</ul>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 56.89252336448598%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"gang2\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/1pcbNLSZKN9zhTD4OeZrZf/f278c96da874a022b6cab85d4bac046a/gang2.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/1pcbNLSZKN9zhTD4OeZrZf/f278c96da874a022b6cab85d4bac046a/gang2.png?w=428 428w,\nhttps://images.ctfassets.net/tushy4jlcik7/1pcbNLSZKN9zhTD4OeZrZf/f278c96da874a022b6cab85d4bac046a/gang2.png?w=856 856w,\nhttps://images.ctfassets.net/tushy4jlcik7/1pcbNLSZKN9zhTD4OeZrZf/f278c96da874a022b6cab85d4bac046a/gang2.png?w=1712 1712w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>위의 그림은 gang 스케줄링을 적용했을 때 모습입니다.<br>\n한번에 필요한 리소스를 확보하여 대기 시간을 최소화합니다.</p>\n<ul>\n<li>driver 리소스 요청 → placeholder 리소스 요청 → 노드 3대 생성</li>\n<li>driver, executor pod 즉시 할당</li>\n</ul>\n<p>여기에서 placeholder pod은 아무 동작도 안하지만 미리 리소스를 확보하기 위해 존재하는 dummy pod 입니다. 만약 리소스를 확보하지 못하는 상황이라면 앱은 대기합니다.\n<strong>Gang Scheduling은 FIFO 큐와 함께 실행하여 리소스 경쟁으로 인한 교착상태에 빠지지 않도록</strong> 할 수 있습니다.</p>\n<p><span\n        class=\"gatsby-resp-image-wrapper\"\n        style=\"position: relative; display: block; ; max-width: 650px; margin-left: auto; margin-right: auto;\"\n      >\n        <span\n          class=\"gatsby-resp-image-background-image\"\n          style=\"padding-bottom: 47.13541666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAATCAMAAADVnb8xAAABhlBMVEX////+/v749/f29fb29vb39/f9/f319fX39vf19PX49/j4+Pjw8PD7/Pz+9/f69PT5+vr7+vv5+fn6+frx9/D2+vXy8vL57Oz7+Pj6+vr8+/z///7r9On1+vX+8PD/+/vy+PHp8+f//v796urx+PD97e70+fPo8+b+9fXq9On//f397u7n8uX+//797Oz/+vrs9evv9u7/+fn+8fH3+/fm8uT9/v3t9ev+9PT+9vb5/Pjl8eT8/vz+8/P+8vLw9+/q9Oj8/Pz+7+/6/Prl8eP7/fv96uv//Pzp8+jv7+/y8/L7+/v97e36/Pn6+vnu7u7z8/P4+/j9/v72+vb96er//f74/Pj9/vz+7/D/+vv+///1+vT/7e75/frl8uT8/fzo8+fz+fL/7u/59fLl8uX7/fr9+vvx+PH++/z55+X5/Pn88vLp5drw+PD57ezl5NX4/fju7Obs8ef19PT09PTs6+vl4+P5+Pfq6eDz9vH08/Po5+fn5ub8+/r9/f719vX6+/r+/v9+7u9xAAABXUlEQVQYGQXBB0OMcRwA4Oef83vlRE5G0bp2LiMuR4X3lHW4XEay997Z+5t7HgAAAAAAkKBtXVthPYAUSFm2oX0jAMVNHWze0rm1tA26tiPbEejYuau7B7v39AJBXz9gYBAIlIeAwWFAMFIGRscAgfE+MNEFECb3Ar2VKUBg3344cBBAmD4EDldnAILJIRg+AhBC7Sgcm50DIgTzx3HiJECeCfV+nFpYBJSKgtNnGDgLIM6db7iAxYWLAJeaS2FyhNExAPKlFP115qqXAZQKqaU2b7kyBYCkNV4zU10GAC1Xrl6rXgcAWis3Vis3AYDW9K3bd+4CAGKlfO8+AGD1wcNHjwEAntQnngIAPHs++wIAwMtXr4GISFEGb96+A/KIvAfofv+BlEgf17JPn79A8es3KSXie9b+4+cvEJ2/U0qp0exOKeXFPxB//6WUUrHZQGQlAMjXGiABIC/kgP/Z7S88R6DerAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n        >\n          <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"kubemarkk\"\n        title=\"\"\n        src=\"https://images.ctfassets.net/tushy4jlcik7/3DRNtnh2w1JZeU17o2IiLR/834aae6213df1e8c56a9341b8f4edce4/kubemarkk.png\"\n        srcset=\"https://images.ctfassets.net/tushy4jlcik7/3DRNtnh2w1JZeU17o2IiLR/834aae6213df1e8c56a9341b8f4edce4/kubemarkk.png?w=480 480w,\nhttps://images.ctfassets.net/tushy4jlcik7/3DRNtnh2w1JZeU17o2IiLR/834aae6213df1e8c56a9341b8f4edce4/kubemarkk.png?w=960 960w,\nhttps://images.ctfassets.net/tushy4jlcik7/3DRNtnh2w1JZeU17o2IiLR/834aae6213df1e8c56a9341b8f4edce4/kubemarkk.png?w=1920 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        loading=\"lazy\"\n      />\n        </span>\n      </span></p>\n<p>또한 동시 실행 Pod가 많을 수록 스케줄링 성능 향상을 기대할 수 있습니다. 위 그림은 Yunikorn에서 kubemark를 통해 벤치마크한 결과입니다. 회사 환경에서 spark 작업 시간을 기준으로 테스트했을 때도 성능 향상을 확인할 수 있었습니다.</p>\n<p>다음 글에서는 Spark 3.4 버전에서 공식적으로 지원하는 Volcano, Yunikorn에 대해 이어서 정리해보겠습니다.</p>\n<br>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ul>\n<li><a href=\"https://yunikorn.apache.org/docs/\">https://yunikorn.apache.org/docs/</a></li>\n<li><a href=\"https://blog.cloudera.com/spark-on-kubernetes-gang-scheduling-with-yunikorn/\">https://blog.cloudera.com/spark-on-kubernetes-gang-scheduling-with-yunikorn/</a></li>\n</ul>","excerpt":"Spark 3.4 버전부터 Customized K8S Scheduler 기능이 GA…"}}}}]}},"pageContext":{"basePath":"","paginationPath":"","pageNumber":0,"humanPageNumber":1,"skip":0,"limit":7,"numberOfPages":17,"previousPagePath":"","nextPagePath":"/2"}},"staticQueryHashes":["1946181227","2744905544","3732430097"]}